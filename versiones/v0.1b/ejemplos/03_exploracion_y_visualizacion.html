
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3. Análisis exploratorio y visualización &#8212; documentación de ConTexto - 0.1</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="4. Corrección ortográfica" href="04_correccion_ortografica.html" />
    <link rel="prev" title="2. Limpieza de textos" href="02_limpieza_de_textos.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/logo_2.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../seccion_introduccion.html">
  Introducción
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../seccion_instalacion.html">
  Instalación
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../seccion_ejemplos.html">
  Ejemplos
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../seccion_lenguajes_soportados.html">
  Lenguajes soportados
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../seccion_ocr.html">
  OCR
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../funciones/comparacion.html">
  Comparación
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../funciones/correccion.html">
  Corrección
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../funciones/escritura.html">
  Escritura
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../funciones/exploracion.html">
  Exploración
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../funciones/lectura.html">
  Lectura
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../funciones/lematizacion.html">
  Lematización
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../funciones/lenguajes.html">
  Lenguajes
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../funciones/limpieza.html">
  Limpieza
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../funciones/stemming.html">
  Stemming
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../funciones/vectorizacion.html">
  Vectorización
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../funciones/utils.html">
  Utils
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ucd-dnp/ConTexto/" rel="noopener" target="_blank" title="GitHub ConTexto">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub ConTexto</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="mailto:ucd@dnp.gov.co" rel="noopener" target="_blank" title="Enviar correo">
            <span><i class="far fa-envelope"></i></span>
            <label class="sr-only">Enviar correo</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Buscar en la documentación ..." aria-label="Buscar en la documentación ..." autocomplete="off" >
</form>

<a id="versions_anchor" class="nav-link" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
    <span class="fa fa-book"></span> Versión
        v0.1
    

    <span class="fa fa-caret-down"></span>
</a>  

<div class="collapse" id="collapseExample">
    <div class="card card-body">
            <dl>
                <dt>Versiones</dt>
                        <dd><a href="../../master/ejemplos/03_exploracion_y_visualizacion.html">latest</a></dd>        
                    
            <!-- </dl> -->
            <!-- <dl> -->
                <!-- <dt>Tags</dt> -->

                    
                        <dd><a href="03_exploracion_y_visualizacion.html">v0.1</a></dd>
                    
            </dl>
    </div>
</div><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="01_lectura_y_escritura_de_documentos.html">
   1. Lectura y escritura de documentos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_limpieza_de_textos.html">
   2. Limpieza de textos
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   3. Análisis exploratorio y visualización
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04_correccion_ortografica.html">
   4. Corrección ortográfica
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_lematizacion_de_textos.html">
   5. Lematización de textos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_stemming_de_textos.html">
   6. Stemming de textos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_vectorizacion_de_textos.html">
   7. Vectorización de textos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_comparacion_de_textos.html">
   8. Comparación de textos
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="09_casos_de_uso.html">
   Casos de uso
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importar-paquetes-necesarios-y-adecuar-texto-de-prueba">
   3.1. Importar paquetes necesarios y adecuar texto de prueba
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#obtener-n-gramas-y-graficarlos">
   3.2. Obtener n-gramas y graficarlos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calcular-coocurrencias-y-graficarlas">
   3.3. Calcular coocurrencias y graficarlas
  </a>
 </li>
</ul>

</nav>
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="analisis-exploratorio-y-visualizacion">
<span id="exploracion-y-visualizacion"></span><h1><span class="section-number">3. </span>Análisis exploratorio y visualización<a class="headerlink" href="#analisis-exploratorio-y-visualizacion" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Este ejemplo muestra las principales funcionalidades del módulo <a class="reference internal" href="../funciones/exploracion.html#module-exploracion" title="exploracion"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Exploración</span></code></a>, de la librería. Este módulo permite obtener distintas visualizaciones de un texto o conjunto de textos, tales como nubes de palabras, gráficos de barras con los términos más frecuentes y redes de coocurrencias. Estas funciones son útiles para explorar uno o varios textos, y tener mejor idea de qué contienen y sobre qué hablan.</p>
<div class="section" id="importar-paquetes-necesarios-y-adecuar-texto-de-prueba">
<h2><span class="section-number">3.1. </span>Importar paquetes necesarios y adecuar texto de prueba<a class="headerlink" href="#importar-paquetes-necesarios-y-adecuar-texto-de-prueba" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Para este ejemplo, se va a trabajar con el texto de la novela <strong>«Don Quijote de la Mancha»</strong>, escrita por Miguel de Cervantes Saavedra. El texto completo de esta novela se encuentra en la carpeta <a class="reference external" href="https://github.com/ucd-dnp/ConTexto/tree/master/ejemplos/entrada">entrada</a> de la sección de ejemplos del <a class="reference external" href="https://github.com/ucd-dnp/ConTexto">Repositorio de GitHub de ConTexto</a>, y fue descargado desde la página del <a class="reference external" href="https://www.gutenberg.org">Proyecto Gutenberg</a>, que tiene a su disposición miles de libros de forma gratuita.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.lectura</span> <span class="kn">import</span> <span class="n">leer_texto</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.limpieza</span> <span class="kn">import</span> <span class="n">limpieza_texto</span><span class="p">,</span> <span class="n">lista_stopwords</span><span class="p">,</span> <span class="n">remover_stopwords</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.exploracion</span> <span class="kn">import</span> <span class="n">grafica_barchart_frecuencias</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.exploracion</span> <span class="kn">import</span> <span class="n">matriz_coocurrencias</span><span class="p">,</span> <span class="n">graficar_coocurrencias</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.exploracion</span> <span class="kn">import</span> <span class="n">obtener_ngramas</span><span class="p">,</span> <span class="n">nube_palabras</span><span class="p">,</span> <span class="n">par_nubes</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Cargar y limpiar texto de prueba</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ruta_cuento</span> <span class="o">=</span> <span class="s1">&#39;entrada/cervantes_don_quijote.txt&#39;</span>
</pre></div>
</div>
<p>La función <a class="reference internal" href="../funciones/lectura.html#lectura.leer_texto" title="lectura.leer_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">lectura.leer_texto()</span></code></a> del módulo <cite>lectura</cite> es utilizada para extraer el texto del archivo que contiene la novela. Luego, se realiza una limpieza estándar del texto, para que esté mejor adecuado para su exploración. Para esto, se utilizan las funciones <a class="reference internal" href="../funciones/limpieza.html#limpieza.limpieza_texto" title="limpieza.limpieza_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.limpieza_texto()</span></code></a> y <a class="reference internal" href="../funciones/limpieza.html#limpieza.lista_stopwords" title="limpieza.lista_stopwords"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.lista_stopwords()</span></code></a>, del módulo limpieza.</p>
<p>Finalmente, en el texto aparece en varias ocasiones la expresión «project gutenberg», el nombre del proyecto que pone a disposición la novela. Como esta información no está directamente relacionada al texto que nos interesa, se va a remover utilizando la función <a class="reference internal" href="../funciones/limpieza.html#limpieza.remover_stopwords" title="limpieza.remover_stopwords"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.remover_stopwords()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">texto_prueba</span> <span class="o">=</span> <span class="n">leer_texto</span><span class="p">(</span><span class="n">ruta_cuento</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto</span> <span class="o">=</span> <span class="n">limpieza_texto</span><span class="p">(</span><span class="n">texto_prueba</span><span class="p">,</span> <span class="n">quitar_numeros</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">n_min</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">lista_palabras</span><span class="o">=</span><span class="n">lista_stopwords</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto</span> <span class="o">=</span> <span class="n">remover_stopwords</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">lista_expresiones</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;project gutenberg&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="obtener-n-gramas-y-graficarlos">
<h2><span class="section-number">3.2. </span>Obtener n-gramas y graficarlos<a class="headerlink" href="#obtener-n-gramas-y-graficarlos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La función <a class="reference internal" href="../funciones/exploracion.html#exploracion.obtener_ngramas" title="exploracion.obtener_ngramas"><code class="xref py py-func docutils literal notranslate"><span class="pre">exploracion.obtener_ngramas()</span></code></a> permite encontrar n-gramas, o conjuntos de <em>n</em> palabras seguidas donde <em>n</em> es un número entero mayor a cero. Por ejemplo, si n=1 o n=2, la función obtendrá las palabras o los bigramas del texto, respectivamente.</p>
<p>Con esta información se puede obtener la frecuencia de cada n-grama, y así conocer cuales son los más mencionados en el texto. Esto puede ser graficado de varias maneras, como por ejemplo mediante nubes de palabras, en las cuales el tamaño de un término es proporcional a su frecuencia de aparición.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Obtener listas de palabras y bigramas más frecuentes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unigramas</span> <span class="o">=</span> <span class="n">obtener_ngramas</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bigramas</span> <span class="o">=</span> <span class="n">obtener_ngramas</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bigramas</span><span class="p">[</span><span class="mi">98</span><span class="p">:</span><span class="mi">105</span><span class="p">]</span>

<span class="go">[&#39;ingenioso hidalgo&#39;,</span>
<span class="go"> &#39;hidalgo mancha&#39;,</span>
<span class="go"> &#39;mancha compuesto&#39;,</span>
<span class="go"> &#39;compuesto miguel&#39;,</span>
<span class="go"> &#39;miguel cervantes&#39;,</span>
<span class="go"> &#39;cervantes saavedra&#39;,</span>
<span class="go"> &#39;saavedra tasaron&#39;]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">## Graficar y guardar nubes de palabras y bigramas</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># El parámetro &quot;dim_figura&quot; permite definir el tamaño de la gráfica</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nube_palabras</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">n_grama</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/nube_uni.jpg&#39;</span><span class="p">,</span> <span class="n">semilla</span><span class="o">=</span><span class="mi">130</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/nube_uni.jpg" />
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Si se pone &quot;graficar=False&quot;, la gráfica no se mostrará.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nube_palabras</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">n_grama</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/nube_bi.jpg&#39;</span><span class="p">,</span> <span class="n">hor</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">graficar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Si se utiliza el parámetro &quot;ubicacion_archivo&quot;, la imagen generada se guardará en la ubicación especificada</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">par_nubes</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">n1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/nube_uni_bi.jpg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/nube_uni_bi.jpg" />
</div>
<p>Los n-gramas más frecuentes también se pueden visualizar mediante gráficas más estándar como, por ejemplo, gráficos de barras que muestren los términos más frecuentes. La función <a class="reference internal" href="../funciones/exploracion.html#exploracion.grafica_barchart_frecuencias" title="exploracion.grafica_barchart_frecuencias"><code class="xref py py-func docutils literal notranslate"><span class="pre">exploracion.grafica_barchart_frecuencias()</span></code></a> permite obtener estas gráficas.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Gráficas de barras con las frecuencias</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grafica_barchart_frecuencias</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/barras_palabras.jpg&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                             <span class="n">titulo</span><span class="o">=</span><span class="s1">&#39;Frecuencias de palabras&#39;</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/barras_palabras.jpg" />
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Si se cambia el parámetro &quot;ascendente&quot; a False, los términos más frecuentes saldrán en la parte de abajo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grafica_barchart_frecuencias</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/barras_bigramas.jpg&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                             <span class="n">n_grama</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ascendente</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/barras_bigramas.jpg" />
</div>
</div>
<div class="section" id="calcular-coocurrencias-y-graficarlas">
<h2><span class="section-number">3.3. </span>Calcular coocurrencias y graficarlas<a class="headerlink" href="#calcular-coocurrencias-y-graficarlas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En lingüistica, la coocurrencia es la aparición o utilización conjunta de dos unidades léxicas (por ejemplo, palabras o n-gramas) en una unidad superior, como una oración o un documento. La función <a class="reference internal" href="../funciones/exploracion.html#exploracion.matriz_coocurrencias" title="exploracion.matriz_coocurrencias"><code class="xref py py-func docutils literal notranslate"><span class="pre">exploracion.matriz_coocurrencias()</span></code></a> permite calcular las coocurrencias de términos en un mismo documento o en una ventana de +/- n palabras.</p>
<p>A patir de estas matrices de coocurrencias es posible graficar redes o grafos de coocurrencia, en las cuales el tamaño de cada punto es proporcional a la frecuencia de aparición de ese término y el grosor de las lineas entre puntos es proporcional a la cantidad de veces que dos términos aparecen juntos en un documento o una ventana de palabras.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">## Obtener matrices de coocurrencias</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">mat_doc</span> <span class="o">=</span> <span class="n">matriz_coocurrencias</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">max_num</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Solo se cuenta la coocurrencia si las palabras están a 5 o menos palabras entre sí</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mat_ven</span> <span class="o">=</span> <span class="n">matriz_coocurrencias</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">max_num</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">modo</span><span class="o">=</span><span class="s1">&#39;ventana&#39;</span><span class="p">,</span> <span class="n">ventana</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1">## Graficar co-ocurrencias de palabras en el texto</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">graficar_coocurrencias</span><span class="p">(</span><span class="n">mat_doc</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/grafo_doc_full.jpg&#39;</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># El parámetro &quot;prop_fuera&quot; se utiliza para quitar líneas de menos coocurrencias del grafo,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># con el propósito de simplificar un poco la gráfica</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graficar_coocurrencias</span><span class="p">(</span><span class="n">mat_doc</span><span class="p">,</span> <span class="n">prop_fuera</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/grafo_doc_top20.jpg&#39;</span><span class="p">,</span> <span class="n">graficar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">graficar_coocurrencias</span><span class="p">(</span><span class="n">mat_ven</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/grafo_ven_full.jpg&#39;</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graficar_coocurrencias</span><span class="p">(</span><span class="n">mat_ven</span><span class="p">,</span> <span class="n">prop_fuera</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/grafo_ven_top20.jpg&#39;</span><span class="p">,</span> <span class="n">graficar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/grafo_doc_full.jpg" />
</div>
<div class="align-center figure">
<img alt="" src="../_images/grafo_ven_full.jpg" />
</div>
<p>También se pueden calcular y graficar coocurrencias sobre un conjunto de documentos o textos independientes. Estos textos deben ser pasados como una lista.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ejemplo con un grupo de textos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">textos</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;el perro está en la casa&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;un perro y un gato están en el carro&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;el carro entro a la casa&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;el gato salió de la casa para entrar al carro&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;el carro casi atropella al perro&#39;</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">textos</span> <span class="o">=</span> <span class="p">[</span><span class="n">limpieza_texto</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">lista_palabras</span><span class="o">=</span><span class="n">lista_stopwords</span><span class="p">())</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">textos</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">mat_doc</span> <span class="o">=</span> <span class="n">matriz_coocurrencias</span><span class="p">(</span><span class="n">textos</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mat_ven</span> <span class="o">=</span> <span class="n">matriz_coocurrencias</span><span class="p">(</span><span class="n">textos</span><span class="p">,</span> <span class="n">modo</span><span class="o">=</span><span class="s1">&#39;ventana&#39;</span><span class="p">,</span> <span class="n">ventana</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">graficar_coocurrencias</span><span class="p">(</span><span class="n">mat_doc</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graficar_coocurrencias</span><span class="p">(</span><span class="n">mat_ven</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/grafo_doc_full_2.jpg" />
</div>
<div class="align-center figure">
<img alt="" src="../_images/grafo_ven_full_2.jpg" />
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="02_limpieza_de_textos.html" title="previous page"><span class="section-number">2. </span>Limpieza de textos</a>
    <a class='right-next' id="next-link" href="04_correccion_ortografica.html" title="next page"><span class="section-number">4. </span>Corrección ortográfica</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, UCD - DNP.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="last-updated">
Actualizado por última vez en jul. 13, 2021.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>