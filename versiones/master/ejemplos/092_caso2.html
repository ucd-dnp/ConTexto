

<!DOCTYPE html>
<html class="writer-html5" lang="es" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2. Caso de uso - Exploración y comparación de fábulas &mdash; documentación de ConTexto - 0.1</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="Lenguajes soportados" href="../seccion_lenguajes_soportados.html" />
    <link rel="prev" title="1. Caso de uso - Agrupar textos por temas" href="091_caso1.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ConTexto
          

          
            
            <img src="../_static/logo_400.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                latest - v0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">ConTexto:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../seccion_introduccion.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="../seccion_instalacion.html">Instalación</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../seccion_ejemplos.html">Ejemplos</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_lectura_y_escritura_de_documentos.html">1. Lectura y escritura de documentos</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_limpieza_de_textos.html">2. Limpieza de textos</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_exploracion_y_visualizacion.html">3. Análisis exploratorio y visualización</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_correccion_ortografica.html">4. Corrección ortográfica</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_lematizacion_de_textos.html">5. Lematización de textos</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_stemming_de_textos.html">6. Stemming de textos</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_vectorizacion_de_textos.html">7. Vectorización de textos</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_comparacion_de_textos.html">8. Comparación de textos</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="09_casos_de_uso.html">Casos de uso</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="091_caso1.html">1. Caso de uso - Agrupar textos por temas</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">2. Caso de uso - Exploración y comparación de fábulas</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#importar-los-paquetes-y-librerias-necesarios">2.1. Importar los paquetes y librerias necesarios</a></li>
<li class="toctree-l4"><a class="reference internal" href="#leer-textos-de-interes">2.2. Leer textos de interés</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preprocesamiento-de-textos">2.3. Preprocesamiento de textos</a></li>
<li class="toctree-l4"><a class="reference internal" href="#visualizacion-de-textos">2.4. Visualización de textos</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vectorizacion-de-los-textos">2.5. Vectorización de los textos</a></li>
<li class="toctree-l4"><a class="reference internal" href="#calculo-de-similitud-de-textos">2.6. Cálculo de similitud de textos</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../seccion_lenguajes_soportados.html">Lenguajes soportados</a></li>
<li class="toctree-l1"><a class="reference internal" href="../seccion_ocr.html">OCR</a></li>
</ul>
<p class="caption"><span class="caption-text">Módulos y funciones:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../funciones/comparacion.html">Comparación</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funciones/correccion.html">Corrección</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funciones/escritura.html">Escritura</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funciones/exploracion.html">Exploración</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funciones/lectura.html">Lectura</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funciones/lematizacion.html">Lematización</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funciones/lenguajes.html">Lenguajes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funciones/limpieza.html">Limpieza</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funciones/stemming.html">Stemming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funciones/vectorizacion.html">Vectorización</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funciones/utils.html">Utils</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ConTexto</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../seccion_ejemplos.html">Ejemplos</a> &raquo;</li>
        
          <li><a href="09_casos_de_uso.html">Casos de uso</a> &raquo;</li>
        
      <li><span class="section-number">2. </span>Caso de uso - Exploración y comparación de fábulas</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="caso-de-uso-exploracion-y-comparacion-de-fabulas">
<span id="caso-de-uso-2"></span><h1><span class="section-number">2. </span>Caso de uso - Exploración y comparación de fábulas<a class="headerlink" href="#caso-de-uso-exploracion-y-comparacion-de-fabulas" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Este ejemplo muestra cómo utilizar la librería <strong>ConTexto</strong> para analizar textos, mediante la aplicación de técnicas de lectura, limpieza, exploración, vectorización y comparación. A continuación se muestran los pasos para importar los módulos necesarios de la librería y utilizarlos para trabajar con tres textos diferentes.</p>
<p>Los textos de ejemplo son tres fábulas cortas cuyos textos fueron descargados desde <a class="reference external" href="https://aprenderespanol.org/lecturas/cuentos-breves-fabulas.html" target="_blank">aprenderespanol.org</a>, y fueron guardados en archivos de diferentes tipos.</p>
<p>El objetivo final de este ejercicio es comparar el texto de las fábulas para saber qué tanto se parecen entre sí.</p>
<div class="section" id="importar-los-paquetes-y-librerias-necesarios">
<h2><span class="section-number">2.1. </span>Importar los paquetes y librerias necesarios<a class="headerlink" href="#importar-los-paquetes-y-librerias-necesarios" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El primer paso es importar las funciones de los módulos de interés de <strong>ConTexto</strong>. En este caso se importan funciones de los módulos de <a class="reference internal" href="../funciones/lectura.html#module-lectura" title="lectura"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Lectura</span></code></a>, <a class="reference internal" href="../funciones/escritura.html#module-escritura" title="escritura"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Escritura</span></code></a>, <a class="reference internal" href="../funciones/limpieza.html#module-limpieza" title="limpieza"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Limpieza</span></code></a>, <a class="reference internal" href="../funciones/exploracion.html#module-exploracion" title="exploracion"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Exploración</span></code></a>, <a class="reference internal" href="../funciones/vectorizacion.html#module-vectorizacion" title="vectorizacion"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Vectorización</span></code></a>, y <a class="reference internal" href="../funciones/comparacion.html#module-comparacion" title="comparacion"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Comparación</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.lectura</span> <span class="kn">import</span> <span class="n">leer_texto</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.limpieza</span> <span class="kn">import</span> <span class="n">limpieza_texto</span><span class="p">,</span> <span class="n">remover_acentos</span><span class="p">,</span> <span class="n">lista_stopwords</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.escritura</span> <span class="kn">import</span> <span class="n">escribir_texto</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.vectorizacion</span> <span class="kn">import</span> <span class="n">VectorizadorFrecuencias</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.comparacion</span> <span class="kn">import</span> <span class="n">Similitud</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.exploracion</span> <span class="kn">import</span> <span class="n">nube_palabras</span>
</pre></div>
</div>
</div>
<div class="section" id="leer-textos-de-interes">
<h2><span class="section-number">2.2. </span>Leer textos de interés<a class="headerlink" href="#leer-textos-de-interes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Se van a comparar las tres siguientes fábulas con métodos de analítica de texto:</p>
<ul class="simple">
<li>El cabrito y el lobo. El texto está en un archivo Word con extensión .docx</li>
<li>La cabra y el asno. El texto está en un archivo PDT digitalizado con extensión .pdf</li>
<li>El zorro y el cuervo. El texto se encuentra en un archivo plano con extensión .txt</li>
</ul>
<p>La extracción de los textos de cada archivo tiene una metodología distina. <strong>ConTexto</strong> facilita el código de importación de textos con la función <a class="reference internal" href="../funciones/lectura.html#lectura.leer_texto" title="lectura.leer_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">lectura.leer_texto()</span></code></a>.</p>
<div class="section" id="definir-las-rutas-de-los-archivos-con-los-textos">
<h3><span class="section-number">2.2.1. </span>Definir las rutas de los archivos con los textos<a class="headerlink" href="#definir-las-rutas-de-los-archivos-con-los-textos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En este paso se definen las rutas de los archivos que se van a importar.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">La carpeta <a class="reference external" href="https://github.com/ucd-dnp/ConTexto/tree/master/ejemplos/entrada" target="_blank">entrada</a> de la sección de ejemplos del <a class="reference external" href="https://github.com/ucd-dnp/ConTexto" target="_blank">Repositorio de GitHub de ConTexto</a> tiene insumos que servirán para correr varios ejemplos de la librería <strong>ConTexto</strong>. En este caso en particular, se va a utilizar los archivos <em>fábula_cabrito_y_lobo.docx</em>, <em>fábula_cabra_y_asno.pdf</em> y <em>fábula_zorro_y_cuervo.txt</em>.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ruta_fabula_1</span> <span class="o">=</span> <span class="s2">&quot;entrada/fábula_cabrito_y_lobo.docx&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ruta_fabula_2</span> <span class="o">=</span> <span class="s2">&quot;entrada/fábula_cabra_y_asno.pdf&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ruta_fabula_3</span> <span class="o">=</span> <span class="s2">&quot;entrada/fábula_zorro_y_cuervo.txt&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="leer-los-textos">
<h3><span class="section-number">2.2.2. </span>Leer los textos<a class="headerlink" href="#leer-los-textos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Si no se especifica el tipo de archivo en la función <a class="reference internal" href="../funciones/lectura.html#lectura.leer_texto" title="lectura.leer_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">lectura.leer_texto()</span></code></a>, esta observará la extensión del archivo a leer y actuará acorde a esta información.</p>
<p>A continuación se extrae el texto de los tres archivos, y se imprimen sus primeros 50 caracteres.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">texto_1</span> <span class="o">=</span> <span class="n">leer_texto</span><span class="p">(</span><span class="n">ruta_fabula_1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto_2</span> <span class="o">=</span> <span class="n">leer_texto</span><span class="p">(</span><span class="n">ruta_fabula_2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto_3</span> <span class="o">=</span> <span class="n">leer_texto</span><span class="p">(</span><span class="n">ruta_fabula_3</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----- Primeros 50 caracteres de cada texto:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;* Fábula 1: </span><span class="si">{</span><span class="n">texto_1</span><span class="p">[:</span><span class="mi">50</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;* Fábula 2: </span><span class="si">{</span><span class="n">texto_2</span><span class="p">[:</span><span class="mi">50</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;* Fábula 3: </span><span class="si">{</span><span class="n">texto_3</span><span class="p">[:</span><span class="mi">50</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="go">----- Primeros 50 caracteres de cada texto:</span>
<span class="go">* Fábula 1: El cabrito y el lobo</span>

<span class="go">Al salir la cabra de su esta</span>
<span class="go">* Fábula 2: La cabra y el asno</span>

<span class="go">Un campesino alimentaba al mi</span>
<span class="go">* Fábula 3: El Zorro y El Cuervo</span>

<span class="go">Cierto cuervo, de los feos e</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="preprocesamiento-de-textos">
<h2><span class="section-number">2.3. </span>Preprocesamiento de textos<a class="headerlink" href="#preprocesamiento-de-textos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El preprocesamiento de los textos es un paso importante para reducir ruido del texto original que puedan entorpecer los análisis a realizar, y en general adecuar los textos de entrada para poder aprovecharlos mejor.</p>
<p>En este caso, se utilizaron las funciones <a class="reference internal" href="../funciones/limpieza.html#limpieza.remover_acentos" title="limpieza.remover_acentos"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.remover_acentos()</span></code></a> para eliminar los acentos y <a class="reference internal" href="../funciones/limpieza.html#limpieza.limpieza_texto" title="limpieza.limpieza_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.limpieza_texto()</span></code></a> para el resto del preprocesamiento. Vale la pena mencionar que también es posible quitar los acentos desde la función <a class="reference internal" href="../funciones/limpieza.html#limpieza.limpieza_texto" title="limpieza.limpieza_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.limpieza_texto()</span></code></a> si se utiliza el parámetro <cite>quitar_acentos=True</cite>.</p>
<div class="section" id="crear-una-lista-de-python-con-los-tres-textos">
<h3><span class="section-number">2.3.1. </span>Crear una lista de Python con los tres textos<a class="headerlink" href="#crear-una-lista-de-python-con-los-tres-textos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Se crea la lista <cite>lista_fabulas</cite> con los tres textos a analizar.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lista_fabulas</span> <span class="o">=</span> <span class="p">[</span><span class="n">texto_1</span><span class="p">,</span> <span class="n">texto_2</span><span class="p">,</span> <span class="n">texto_3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="quitar-acentos-de-los-textos">
<h3><span class="section-number">2.3.2. </span>Quitar acentos de los textos<a class="headerlink" href="#quitar-acentos-de-los-textos" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lista_fabulas</span> <span class="o">=</span> <span class="p">[</span><span class="n">remover_acentos</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">lista_fabulas</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="pasar-textos-minusculas-quitar-puntuacion-y-stopwords">
<h3><span class="section-number">2.3.3. </span>Pasar textos minúsculas, quitar puntuación y stopwords<a class="headerlink" href="#pasar-textos-minusculas-quitar-puntuacion-y-stopwords" title="Enlazar permanentemente con este título">¶</a></h3>
<p>A continuación se pasa el texto a minúsculas, se quita la puntuación y se eliminan stopwords con la función <a class="reference internal" href="../funciones/limpieza.html#limpieza.limpieza_texto" title="limpieza.limpieza_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.limpieza_texto()</span></code></a>. Los stopwords se cargan por medio de la función <a class="reference internal" href="../funciones/limpieza.html#limpieza.lista_stopwords" title="limpieza.lista_stopwords"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.lista_stopwords()</span></code></a>, del módulo <a class="reference internal" href="../funciones/limpieza.html#module-limpieza" title="limpieza"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Limpieza</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Lista de stopwords comunes en español</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sw</span> <span class="o">=</span> <span class="n">lista_stopwords</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Limpiar el texto con la función &#39;limpieza_texto&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lista_fabulas_limpios</span> <span class="o">=</span> <span class="p">[</span><span class="n">limpieza_texto</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">lista_palabras</span><span class="o">=</span><span class="n">sw</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">lista_fabulas</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Mostrar el texto limpio de la primera fábula</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lista_fabulas_limpios</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="go">&#39;cabrito lobo salir cabra establo encargo hijo cuidado casa advirtiendole peligro animales rondaban alrededores intencion entrar establos devorar ganados tardo llegar enemigo lobo horrible amiguitos mios lobo imitando voz cabra llamo cortesmente puerta entrar mirar cabrito rendija vio feroz carnicero intimidarse dirigio siguiente discurso bien mayor adversario imitando voz madre pretendes entrar devorarme puedes marcharte odiado animal sere abra puerta sigue consejo padres viviras feliz toda vida fin&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="guardar-textos-en-archivos-txt-para-ser-utilizados-luego">
<h3><span class="section-number">2.3.4. </span>Guardar textos en archivos .txt para ser utilizados luego<a class="headerlink" href="#guardar-textos-en-archivos-txt-para-ser-utilizados-luego" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Luego de hacer el preprocesamiento se decide guardar los textos preprocesados en archivos “.txt” para ser utilizados luego. Si bien en este ejemplo los textos se extrajeron y limpiaron con mucha rapidez, en muchos casos este proceso puede tomar varias horas por cuenta de la longitud del texto y el tipo de preprocesamiento (puede incluirse corrección ortográfica o lematización, por ejemplo). La extracción de textos con OCR de archivos escaneados con una extensión muy larga puede ser extremadamente lenta, por lo cual guardar los resultados parciales puede ser una muy buena práctica.</p>
<p>Para guardar los textos en nuevos archivos, se utiliza la función <a class="reference internal" href="../funciones/escritura.html#escritura.escribir_texto" title="escritura.escribir_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">escritura.escribir_texto()</span></code></a>, del módulo <a class="reference internal" href="../funciones/escritura.html#module-escritura" title="escritura"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Escritura</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.utils.auxiliares</span> <span class="kn">import</span> <span class="n">verificar_crear_dir</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Crear directorio de salida</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dir_salida</span> <span class="o">=</span> <span class="s1">&#39;salida/fábulas_limpias/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verificar_crear_dir</span><span class="p">(</span><span class="n">dir_salida</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">texto</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lista_fabulas_limpios</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">escribir_texto</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">dir_salida</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">.txt&#39;</span><span class="p">]),</span> <span class="n">texto</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="visualizacion-de-textos">
<h2><span class="section-number">2.4. </span>Visualización de textos<a class="headerlink" href="#visualizacion-de-textos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Como método de exploración se crea una nube de palabras para la fábula “El cabrito y el lobo”. Esto se puede hacer por medio de la función <a class="reference internal" href="../funciones/exploracion.html#exploracion.nube_palabras" title="exploracion.nube_palabras"><code class="xref py py-func docutils literal notranslate"><span class="pre">exploracion.nube_palabras()</span></code></a>, del módulo <a class="reference internal" href="../funciones/exploracion.html#module-exploracion" title="exploracion"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Exploración</span></code></a>.</p>
<p>En este caso, el preprocesamiento previo ayuda a quitar palabras como conectores y preposiciones, dejando en la nube términos que nos pueden aportar mejor conocimiento sobre el texto.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nube_palabras</span><span class="p">(</span><span class="n">lista_fabulas_limpios</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">n_grama</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_terminos</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">graficar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">hor</span> <span class="o">=</span> <span class="mf">0.9</span><span class="p">,</span> <span class="n">titulo</span><span class="o">=</span><span class="s1">&#39;Términos más frecuentes en la primera fábula&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/nube_fabulas.jpg" class="align-center" src="../_images/nube_fabulas.jpg" />
</div>
<div class="section" id="vectorizacion-de-los-textos">
<h2><span class="section-number">2.5. </span>Vectorización de los textos<a class="headerlink" href="#vectorizacion-de-los-textos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La vectorización de textos consiste en convertir el texto preprocesado a una representación numérica para luego poder aplicar operaciones matemáticas.</p>
<p>En este caso se vectorizarán los por medio de la metodología Bag Of Words (BOW) del módulo <a class="reference internal" href="../funciones/vectorizacion.html#module-vectorizacion" title="vectorizacion"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Vectorización</span></code></a>. Este módulo también cuenta con otras metodologías como TF-IDF, hashing, Word2Vec y Doc2Vec.</p>
<div class="section" id="inicializar-y-ajustar-vectorizador-bow">
<h3><span class="section-number">2.5.1. </span>Inicializar y ajustar vectorizador BOW<a class="headerlink" href="#inicializar-y-ajustar-vectorizador-bow" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v_bow</span> <span class="o">=</span> <span class="n">VectorizadorFrecuencias</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v_bow</span><span class="o">.</span><span class="n">ajustar</span><span class="p">(</span><span class="n">lista_fabulas_limpios</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="vectorizar-los-textos">
<h3><span class="section-number">2.5.2. </span>Vectorizar los textos<a class="headerlink" href="#vectorizar-los-textos" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bow_fabulas</span> <span class="o">=</span> <span class="n">v_bow</span><span class="o">.</span><span class="n">vectorizar</span><span class="p">(</span><span class="n">lista_fabulas_limpios</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bow_fabulas</span><span class="o">.</span><span class="n">shape</span>

<span class="go">(3, 174)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="calculo-de-similitud-de-textos">
<h2><span class="section-number">2.6. </span>Cálculo de similitud de textos<a class="headerlink" href="#calculo-de-similitud-de-textos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Una vez definidos los vectores de los tres textos, es posible aplicar metodologías de comparación de textos. En este caso se utilizará la simiitud coseno. Esta es una de las muchas metodologías de comparación de textos que se puede hacer con <strong>ConTexto</strong>.</p>
<div class="section" id="inicializar-la-clase-similitud-de-contexto">
<h3><span class="section-number">2.6.1. </span>Inicializar la clase “Similitud” de ConTexto<a class="headerlink" href="#inicializar-la-clase-similitud-de-contexto" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Se inicia la clase Similitud con el vectorizador de bag of words definido en el paso anterior.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s_bow</span> <span class="o">=</span> <span class="n">Similitud</span><span class="p">(</span><span class="n">v_bow</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="calcular-la-matriz-de-similitudes-coseno-entre-los-tres-textos">
<h3><span class="section-number">2.6.2. </span>Calcular la matriz de similitudes coseno entre los tres textos<a class="headerlink" href="#calcular-la-matriz-de-similitudes-coseno-entre-los-tres-textos" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coseno_bow</span> <span class="o">=</span> <span class="n">s_bow</span><span class="o">.</span><span class="n">coseno</span><span class="p">(</span><span class="n">lista_fabulas_limpios</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Convertir a dataframe de pandas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fabulas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;el cabrito y el lobo&quot;</span><span class="p">,</span> <span class="s2">&quot;la cabra y el asno&quot;</span><span class="p">,</span> <span class="s2">&quot;el zorro y el cuervo&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coseno_bow</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">coseno_bow</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">fabulas</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">fabulas</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coseno_bow</span>
</pre></div>
</div>
<table border="1" class="docutils align-default">
<colgroup>
<col width="26%" />
<col width="26%" />
<col width="23%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Index</th>
<th class="head">el cabrito y el lobo</th>
<th class="head">la cabra y el asno</th>
<th class="head">el zorro y el cuervo</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>el cabrito y el lobo</td>
<td>1.000000</td>
<td>0.162288</td>
<td>0.070675</td>
</tr>
<tr class="row-odd"><td>la cabra y el asno</td>
<td>0.162288</td>
<td>1.000000</td>
<td>0.036867</td>
</tr>
<tr class="row-even"><td>el zorro y el cuervo</td>
<td>0.070675</td>
<td>0.036867</td>
<td>1.000000</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../seccion_lenguajes_soportados.html" class="btn btn-neutral float-right" title="Lenguajes soportados" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="091_caso1.html" class="btn btn-neutral float-left" title="1. Caso de uso - Agrupar textos por temas" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Derechos de autor 2021, UCD - DNP.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Otras versiones</span>
        v: latest
      

    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Ramas</dt>
          <dd><a href="092_caso2.html">latest</a></dd>        
        
    </dl>    

  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>