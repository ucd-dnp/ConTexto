
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3. Análisis exploratorio y visualización &#8212; documentación de ConTexto - 0.2</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="4. Corrección ortográfica de textos" href="04_correccion_ortografica.html" />
    <link rel="prev" title="2. Limpieza de textos" href="02_limpieza_de_textos.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/logo_2.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../_primeros_pasos.html">
  Primeros pasos
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../_documentacion.html">
  Documentación
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../genindex.html">
  Índice
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../_contribuciones.html">
  ¿Cómo contribuir?
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../_control_de_cambios.html">
  Control de cambios
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ucd-dnp/ConTexto/" rel="noopener" target="_blank" title="GitHub ConTexto">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub ConTexto</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="mailto:ucd@dnp.gov.co" rel="noopener" target="_blank" title="Enviar correo">
            <span><i class="far fa-envelope"></i></span>
            <label class="sr-only">Enviar correo</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Buscar en la documentación ..." aria-label="Buscar en la documentación ..." autocomplete="off" >
</form>

<a id="versions_anchor" class="nav-link" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
    <span class="fa fa-book"></span> Versión
        latest
    

    <span class="fa fa-caret-down"></span>
</a>  

<div class="collapse" id="collapseExample">
    <div class="card card-body">
            <dl>
                <dt>Versiones</dt>
                        <dd><a href="03_exploracion_y_visualizacion.html">latest</a></dd>        
                    
            <!-- </dl> -->
            <!-- <dl> -->
                <!-- <dt>Tags</dt> -->

                    
                        <dd><a href="../../v0.1b/ejemplos/03_exploracion_y_visualizacion.html">v0.1</a></dd>
                    
            </dl>
    </div>
</div><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p class="caption">
 <span class="caption-text">
  Primeros pasos:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../seccion_instalacion.html">
   Instalación
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../seccion_ejemplos.html">
   Ejemplos
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="01_lectura_y_escritura_de_documentos.html">
     1. Lectura y escritura de documentos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02_limpieza_de_textos.html">
     2. Limpieza de textos
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     3. Análisis exploratorio y visualización
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04_correccion_ortografica.html">
     4. Corrección ortográfica de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="05_lematizacion_de_textos.html">
     5. Lematización de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06_stemming_de_textos.html">
     6. Stemming de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_vectorizacion_de_textos.html">
     7. Vectorización de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08_comparacion_de_textos.html">
     8. Comparación de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09_casos_de_uso.html">
     Casos de uso
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importar-funciones-necesarias-y-adecuar-texto-de-prueba">
   3.1. Importar funciones necesarias y adecuar texto de prueba
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#obtener-n-gramas-y-graficarlos">
   3.2. Obtener n-gramas y graficarlos
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nubes-de-palabras">
     3.2.1. Nubes de palabras
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#graficos-de-barras">
     3.2.2. Gráficos de barras
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#graficos-de-dispersion-lexica">
   3.3. Gráficos de dispersión léxica
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calcular-coocurrencias-y-graficarlas">
   3.4. Calcular coocurrencias y graficarlas
  </a>
 </li>
</ul>

</nav>
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="analisis-exploratorio-y-visualizacion">
<span id="exploracion-y-visualizacion"></span><h1><span class="section-number">3. </span>Análisis exploratorio y visualización<a class="headerlink" href="#analisis-exploratorio-y-visualizacion" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Este ejemplo muestra las principales funcionalidades del módulo <a class="reference internal" href="../funciones/exploracion.html#module-exploracion" title="exploracion"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Exploración</span></code></a> de la librería. Este módulo permite obtener distintas visualizaciones de un texto o conjunto de textos, tales como nubes de palabras, gráficos de barras con los términos más frecuentes, gráficos de dispersión léxica y redes de coocurrencias. Estas funciones son útiles para explorar uno o varios textos y tener mejor idea de qué contienen y sobre qué hablan.</p>
<div class="section" id="importar-funciones-necesarias-y-adecuar-texto-de-prueba">
<h2><span class="section-number">3.1. </span>Importar funciones necesarias y adecuar texto de prueba<a class="headerlink" href="#importar-funciones-necesarias-y-adecuar-texto-de-prueba" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Para este ejemplo, se va a trabajar con el texto de la novela <strong>«Don Quijote de la Mancha»</strong>, escrita por Miguel de Cervantes Saavedra. El texto completo de esta novela se encuentra en la carpeta <a class="reference external" href="https://github.com/ucd-dnp/ConTexto/tree/master/ejemplos/entrada">entrada</a> de la sección de ejemplos del <a class="reference external" href="https://github.com/ucd-dnp/ConTexto">Repositorio de GitHub de ConTexto</a>, y fue descargado desde la página del <a class="reference external" href="https://www.gutenberg.org">Proyecto Gutenberg</a>, que tiene a su disposición miles de libros de forma gratuita.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.lectura</span> <span class="kn">import</span> <span class="n">leer_texto</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.limpieza</span> <span class="kn">import</span> <span class="n">limpieza_texto</span><span class="p">,</span> <span class="n">lista_stopwords</span><span class="p">,</span> <span class="n">remover_stopwords</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.exploracion</span> <span class="kn">import</span> <span class="n">grafica_barchart_frecuencias</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.exploracion</span> <span class="kn">import</span> <span class="n">matriz_coocurrencias</span><span class="p">,</span> <span class="n">graficar_coocurrencias</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.exploracion</span> <span class="kn">import</span> <span class="n">obtener_ngramas</span><span class="p">,</span> <span class="n">nube_palabras</span><span class="p">,</span> <span class="n">par_nubes</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Cargar y limpiar texto de prueba</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ruta_cuento</span> <span class="o">=</span> <span class="s1">&#39;entrada/cervantes_don_quijote.txt&#39;</span>
</pre></div>
</div>
<p>La función <a class="reference internal" href="../funciones/lectura.html#lectura.leer_texto" title="lectura.leer_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">lectura.leer_texto()</span></code></a> del módulo <cite>Lectura</cite> es utilizada para extraer el texto del archivo que contiene la novela. Luego, se realiza una limpieza estándar del texto, para que esté mejor adecuado para su exploración. Para esto, se utilizan las funciones <a class="reference internal" href="../funciones/limpieza.html#limpieza.limpieza_texto" title="limpieza.limpieza_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.limpieza_texto()</span></code></a> y <a class="reference internal" href="../funciones/limpieza.html#limpieza.lista_stopwords" title="limpieza.lista_stopwords"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.lista_stopwords()</span></code></a>, del módulo <cite>Limpieza</cite>.</p>
<p>Finalmente, en el texto aparece en varias ocasiones la expresión «project gutenberg», el nombre del proyecto que pone a disposición la novela. Como esta información no está directamente relacionada al texto que nos interesa, se va a remover utilizando la función <a class="reference internal" href="../funciones/limpieza.html#limpieza.remover_stopwords" title="limpieza.remover_stopwords"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.remover_stopwords()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">texto_prueba</span> <span class="o">=</span> <span class="n">leer_texto</span><span class="p">(</span><span class="n">ruta_cuento</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto</span> <span class="o">=</span> <span class="n">limpieza_texto</span><span class="p">(</span><span class="n">texto_prueba</span><span class="p">,</span> <span class="n">quitar_numeros</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">n_min</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">lista_palabras</span><span class="o">=</span><span class="n">lista_stopwords</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto</span> <span class="o">=</span> <span class="n">remover_stopwords</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">lista_expresiones</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;project gutenberg&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="obtener-n-gramas-y-graficarlos">
<h2><span class="section-number">3.2. </span>Obtener n-gramas y graficarlos<a class="headerlink" href="#obtener-n-gramas-y-graficarlos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La función <a class="reference internal" href="../funciones/exploracion.html#exploracion.obtener_ngramas" title="exploracion.obtener_ngramas"><code class="xref py py-func docutils literal notranslate"><span class="pre">exploracion.obtener_ngramas()</span></code></a> permite encontrar n-gramas, o conjuntos de <em>n</em> palabras seguidas donde <em>n</em> es un número entero mayor a cero. Por ejemplo, si n=1 o n=2, la función obtendrá las palabras o los bigramas del texto, respectivamente.</p>
<p>Con esta información se puede obtener la frecuencia de cada n-grama y así conocer cuales son los más mencionados en el texto. Esto puede ser graficado de varias maneras, como por ejemplo mediante nubes de palabras, en las cuales el tamaño de un término es proporcional a su frecuencia de aparición.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Obtener listas de palabras y bigramas más frecuentes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unigramas</span> <span class="o">=</span> <span class="n">obtener_ngramas</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bigramas</span> <span class="o">=</span> <span class="n">obtener_ngramas</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bigramas</span><span class="p">[</span><span class="mi">98</span><span class="p">:</span><span class="mi">105</span><span class="p">]</span>

<span class="go">[&#39;ingenioso hidalgo&#39;,</span>
<span class="go"> &#39;hidalgo mancha&#39;,</span>
<span class="go"> &#39;mancha compuesto&#39;,</span>
<span class="go"> &#39;compuesto miguel&#39;,</span>
<span class="go"> &#39;miguel cervantes&#39;,</span>
<span class="go"> &#39;cervantes saavedra&#39;,</span>
<span class="go"> &#39;saavedra tasaron&#39;]</span>
</pre></div>
</div>
<div class="section" id="nubes-de-palabras">
<h3><span class="section-number">3.2.1. </span>Nubes de palabras<a class="headerlink" href="#nubes-de-palabras" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">## Graficar y guardar nubes de palabras y bigramas</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># El parámetro &quot;dim_figura&quot; permite definir el tamaño de la gráfica</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nube_palabras</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">n_grama</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/nube_uni.jpg&#39;</span><span class="p">,</span> <span class="n">semilla</span><span class="o">=</span><span class="mi">130</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/nube_uni.jpg" />
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Si se pone &quot;graficar=False&quot;, la gráfica no se mostrará.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nube_palabras</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">n_grama</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/nube_bi.jpg&#39;</span><span class="p">,</span> <span class="n">hor</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">graficar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Si se utiliza el parámetro &quot;ubicacion_archivo&quot;, la imagen generada se guardará en la ubicación especificada</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">par_nubes</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">n1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/nube_uni_bi.jpg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/nube_uni_bi.jpg" />
</div>
<p><strong>Personalizar las nubes de palabras</strong></p>
<p>La función de nubes de palabras tiene algunos parámetros que permiten personalizar la estética de la gráfica. En particular, se puede configurar:</p>
<ul class="simple">
<li><p>La forma de la nube: Para esto, se puede ingresar una imagen de referencia con la forma que uno quiera utilizar. Por defecto esta forma es circular.</p></li>
<li><p>El color de fondo</p></li>
<li><p>El color y grosor del contorno: Esto permite delinear la forma de la nube de palabras</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Nube de palabras con forma personalizada</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nube_palabras</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">n_grama</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">semilla</span><span class="o">=</span><span class="mi">130</span><span class="p">,</span> <span class="n">hor</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">color_contorno</span><span class="o">=</span><span class="s1">&#39;gold&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="n">grosor_contorno</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color_fondo</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">forma</span><span class="o">=</span><span class="s1">&#39;entrada/quijote.jpg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/quijote.png" />
</div>
<div class="align-center figure">
<img alt="" src="../_images/nube_quijote.png" />
</div>
</div>
<div class="section" id="graficos-de-barras">
<h3><span class="section-number">3.2.2. </span>Gráficos de barras<a class="headerlink" href="#graficos-de-barras" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Los n-gramas más frecuentes también se pueden visualizar mediante gráficas más estándar como, por ejemplo, gráficos de barras que muestren los términos más frecuentes. La función <a class="reference internal" href="../funciones/exploracion.html#exploracion.grafica_barchart_frecuencias" title="exploracion.grafica_barchart_frecuencias"><code class="xref py py-func docutils literal notranslate"><span class="pre">exploracion.grafica_barchart_frecuencias()</span></code></a> permite obtener estas gráficas.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Gráficas de barras con las frecuencias</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grafica_barchart_frecuencias</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/barras_palabras.jpg&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                             <span class="n">titulo</span><span class="o">=</span><span class="s1">&#39;Frecuencias de palabras&#39;</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/barras_palabras.jpg" />
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Si se cambia el parámetro &quot;ascendente&quot; a False, los términos más frecuentes saldrán en la parte de abajo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grafica_barchart_frecuencias</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/barras_bigramas.jpg&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                             <span class="n">n_grama</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ascendente</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/barras_bigramas.jpg" />
</div>
</div>
</div>
<div class="section" id="graficos-de-dispersion-lexica">
<h2><span class="section-number">3.3. </span>Gráficos de dispersión léxica<a class="headerlink" href="#graficos-de-dispersion-lexica" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Además de la frecuencia, la importancia de una palabra se puede ponderar por su dispersión en el texto. La dispersión léxica es una medida de la homogeneidad de una palabra en diferentes partes del texto. Esta medida puede ser visualizada usando el gráfico de dispersión léxica, en donde en el eje horizontal se marca con una línea cada una de las ocurrencias de una palabra, y en el eje vertical se muestran las palabras de interés. La función <a class="reference internal" href="../funciones/exploracion.html#exploracion.graficar_dispersion" title="exploracion.graficar_dispersion"><code class="xref py py-func docutils literal notranslate"><span class="pre">exploracion.graficar_dispersion()</span></code></a> permite obtener estas gráficas.</p>
<p>En el siguiente ejemplo se definen algunas palabras de interés y se hace el gráfico correspondiente. Palabras como <em>obispo</em> y <em>esparto</em> aparecen hacia al final del texto, mientras que palabras como <em>caballero</em> y <em>merced</em> aparecen en todo el texto.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.exploracion</span> <span class="kn">import</span> <span class="n">graficar_dispersion</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Se definen las palabras de interés</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mis_palabras</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;caballero&#39;</span><span class="p">,</span> <span class="s1">&#39;merced&#39;</span><span class="p">,</span> <span class="s1">&#39;enamorado&#39;</span><span class="p">,</span> <span class="s1">&#39;leyes&#39;</span><span class="p">,</span> <span class="s1">&#39;molino&#39;</span><span class="p">,</span> <span class="s1">&#39;esparto&#39;</span><span class="p">,</span> <span class="s1">&#39;obispos&#39;</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Gráfico de dispersión</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graficar_dispersion</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">mis_palabras</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/dispersion_plot_1.png" />
</div>
<p>También se puede graficar un conjunto de documentos o textos independientes. Estos textos deben ser pasados como una lista.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Diferentes textos en una lista</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">textos</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Un campesino alimentaba al mismo tiempo a una cabra y a un asno. La cabra, envidiosa porque su compañero estaba mejor atendido, le dio el siguiente consejo: - La noria y la carga hacen de tu vida un tormento interminable; simula una enfermedad y déjate caer en un foso, pues así te dejarán reposar.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Al salir la cabra de su establo encargó a su hijo el cuidado de la casa, advirtiéndole el peligro de los animales que rondaban por los alrededores con intención de entrar a los establos y devorar los ganados.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Bien sé que eres nuestro mayor adversario y que, imitando la voz de mi madre, pretendes entrar para devorarme. Puedes marcharte, odiado animal, que no seré yo quien te abra la puerta.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Cierta cabra robó un queso y, llevando su botín fue a saborearlo en la copa de un árbol. En estas circunstancias lo vio un asno muy astuto, y comenzó a adularlo con la intención de arrebatárselo.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Palabras de interés</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mis_palabras</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;el&#39;</span><span class="p">,</span> <span class="s1">&#39;la&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;campesino&#39;</span><span class="p">,</span> <span class="s1">&#39;cuidado&#39;</span><span class="p">,</span> <span class="s1">&#39;cabra&#39;</span><span class="p">,</span> <span class="s1">&#39;asno&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>En el caso en que se considera más de un texto, el gráfico es dividido de acuerdo a la cantidad de textos, y en cada división se muestran las ocurrencias de las palabras.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">graficar_dispersion</span><span class="p">(</span><span class="n">textos</span><span class="p">,</span> <span class="n">mis_palabras</span><span class="p">,</span> <span class="n">titulo</span> <span class="o">=</span> <span class="s1">&#39;Comparación de textos&#39;</span><span class="p">,</span> <span class="n">rotacion</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                    <span class="n">etiquetas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Texto 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Texto 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Texto 3&#39;</span><span class="p">,</span> <span class="s1">&#39;Texto 4&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                    <span class="n">mapa_color</span><span class="o">=</span><span class="s1">&#39;jet&#39;</span><span class="p">,</span> <span class="n">auto_etiquetas</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">leyenda</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                    <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/dispersion.jpg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/dispersion_plot_2.png" />
</div>
<p>En algunas ocasiones, graficar la dispersión léxica de palabras por si solas, hace perder el contexto en las que aparecen. Una forma de solucionar este hecho es visualizar la aparición de n-gramas a través del texto.</p>
<p>Para graficar la dispersión léxica de n-gramas con ConTexto, es necesario, calcular los n-gramas para cada texto y pasarlos como una lista de listas. En el siguiente ejemplo, se muestra la dispersión léxica para bi-gramas.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Diferentes textos en una lista</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">textos</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Un campesino alimentaba al mismo tiempo a la cabra y a un asno. La cabra, envidiosa porque su compañero estaba mejor atendido, le dio el siguiente consejo: - La noria y la carga hacen de tu vida un tormento interminable; simula una enfermedad y déjate caer en un foso, pues así te dejarán reposar.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Al salir la cabra de su establo encargó a su hijo el cuidado de la casa, advirtiéndole el peligro de los animales que rondaban por los alrededores con intención de entrar a los establos y devorar los ganados.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Bien sé que eres nuestro mayor adversario y que, imitando la voz de un campesino, pretendes entrar para devorarme. Puedes marcharte, odiado animal, que no seré yo quien te abra la puerta.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;la cabra robó un queso y, llevando su botín fue a saborearlo en la copa de un árbol. En estas circunstancias lo vio un asno muy astuto, y comenzó a adularlo con la intención de arrebatárselo.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Limpieza basica para quitar signos de puntuación</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">textos</span> <span class="o">=</span> <span class="p">[</span><span class="n">limpieza_basica</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">textos</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Calculo de bigramas sobre el texto</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bigramas</span> <span class="o">=</span> <span class="p">[</span><span class="n">obtener_ngramas</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">textos</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1">#bigramas de interés</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mis_bigramas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;un campesino&#39;</span><span class="p">,</span><span class="s1">&#39;la cabra&#39;</span><span class="p">,</span> <span class="s1">&#39;los ganados&#39;</span><span class="p">,</span> <span class="s1">&#39;un asno&#39;</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1">#graficar la dispersión de bigramas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graficar_dispersion</span><span class="p">(</span><span class="n">bigramas</span><span class="p">,</span> <span class="n">mis_bigramas</span><span class="p">,</span> <span class="n">titulo</span> <span class="o">=</span> <span class="s1">&#39;Dispersión léxica de bigramas&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                    <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">eje_y</span> <span class="o">=</span> <span class="s2">&quot;Bigramas de interés&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/dispersion_plot_3.png" />
</div>
</div>
<div class="section" id="calcular-coocurrencias-y-graficarlas">
<h2><span class="section-number">3.4. </span>Calcular coocurrencias y graficarlas<a class="headerlink" href="#calcular-coocurrencias-y-graficarlas" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En lingüistica, la coocurrencia es la aparición o utilización conjunta de dos unidades léxicas (por ejemplo, palabras o n-gramas) en una unidad superior, como una oración o un documento. La función <a class="reference internal" href="../funciones/exploracion.html#exploracion.matriz_coocurrencias" title="exploracion.matriz_coocurrencias"><code class="xref py py-func docutils literal notranslate"><span class="pre">exploracion.matriz_coocurrencias()</span></code></a> permite calcular las coocurrencias de términos en un mismo documento o en una ventana de +/- n palabras.</p>
<p>A partir de estas matrices de coocurrencias es posible graficar redes o grafos de coocurrencia, en las cuales el tamaño de cada punto es proporcional a la frecuencia de aparición de ese término y el grosor de las lineas entre puntos es proporcional a la cantidad de veces que dos términos aparecen juntos en un documento o una ventana de palabras.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">## Obtener matrices de coocurrencias</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto</span> <span class="o">=</span>  <span class="s2">&quot;&quot;&quot; el perro está en la casa un perro y un gato están en el carro</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">    el carro entro a la casa el gato salió de la casa para entrar al carro</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">    el carro casi atropella al perro &quot;&quot;&quot;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Solo se cuenta la coocurrencia si las palabras están a 5 o menos palabras entre sí</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mat_ven</span> <span class="o">=</span> <span class="n">matriz_coocurrencias</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">max_num</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">modo</span><span class="o">=</span><span class="s1">&#39;ventana&#39;</span><span class="p">,</span> <span class="n">ventana</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1">## Graficar co-ocurrencias de palabras en el texto</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graficar_coocurrencias</span><span class="p">(</span><span class="n">mat_ven</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;salida/grafo_doc_full.jpg&#39;</span><span class="p">,</span> <span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="n">graficar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">seed</span> <span class="o">=</span> <span class="mi">31</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                      <span class="n">offset_y</span> <span class="o">=</span><span class="mf">0.13</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/grafo_doc_full_b.jpg" />
</div>
<p>También se pueden calcular y graficar coocurrencias sobre un conjunto de documentos o textos independientes. Estos textos deben ser pasados como una lista.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Ejemplo con un grupo de textos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Diferentes textos en una lista</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">textos</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Un campesino alimentaba al mismo tiempo a la cabra y a un asno. La cabra, envidiosa porque su compañero estaba mejor atendido, le dio el siguiente consejo: - La noria y la carga hacen de tu vida un tormento interminable; simula una enfermedad y déjate caer en un foso, pues así te dejarán reposar.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Al salir la cabra de su establo encargó a su hijo el cuidado de la casa, advirtiéndole el peligro de los animales que rondaban por los alrededores con intención de entrar a los establos y devorar los ganados.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Bien sé que eres nuestro mayor adversario y que, imitando la voz de un campesino, pretendes entrar para devorarme. Puedes marcharte, odiado animal, que no seré yo quien te abra la puerta.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;la cabra robó un queso y, llevando su botín fue a saborearlo en la copa de un árbol. En estas circunstancias lo vio un asno muy astuto, y comenzó a adularlo con la intención de arrebatárselo.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># limpieza básica de texto para  quitar puntuaciones</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">textos</span> <span class="o">=</span> <span class="p">[</span><span class="n">limpieza_texto</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">lista_palabras</span><span class="o">=</span><span class="n">lista_stopwords</span><span class="p">())</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">textos</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">mat_doc</span> <span class="o">=</span> <span class="n">matriz_coocurrencias</span><span class="p">(</span><span class="n">textos</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">graficar_coocurrencias</span><span class="p">(</span><span class="n">mat_doc</span><span class="p">,</span> <span class="n">n_nodos</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">escala</span> <span class="o">=</span> <span class="mi">900</span><span class="p">,</span><span class="n">dim_figura</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">11</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="n">node_cmap</span> <span class="o">=</span> <span class="s2">&quot;viridis&quot;</span><span class="p">,</span> <span class="n">offset_y</span> <span class="o">=</span> <span class="mf">0.06</span><span class="p">,</span> <span class="n">seed</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="align-center figure">
<img alt="" src="../_images/grafo_ven_full_b.jpg" />
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="02_limpieza_de_textos.html" title="previous page"><span class="section-number">2. </span>Limpieza de textos</a>
    <a class='right-next' id="next-link" href="04_correccion_ortografica.html" title="next page"><span class="section-number">4. </span>Corrección ortográfica de textos</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, UCD - DNP.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="last-updated">
Actualizado por última vez en jul. 13, 2021.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>