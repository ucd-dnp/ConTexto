
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>5. Lematización de textos &#8212; documentación de ConTexto - 0.2</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="6. Stemming de textos" href="06_stemming_de_textos.html" />
    <link rel="prev" title="4. Corrección ortográfica de textos" href="04_correccion_ortografica.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/logo_2.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../_primeros_pasos.html">
  Primeros pasos
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../_documentacion.html">
  Documentación
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../genindex.html">
  Índice
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../_contribuciones.html">
  ¿Cómo contribuir?
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../_control_de_cambios.html">
  Control de cambios
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ucd-dnp/ConTexto/" rel="noopener" target="_blank" title="GitHub ConTexto">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub ConTexto</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="mailto:ucd@dnp.gov.co" rel="noopener" target="_blank" title="Enviar correo">
            <span><i class="far fa-envelope"></i></span>
            <label class="sr-only">Enviar correo</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Buscar en la documentación ..." aria-label="Buscar en la documentación ..." autocomplete="off" >
</form>

<a id="versions_anchor" class="nav-link" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
    <span class="fa fa-book"></span> Versión
        latest
    

    <span class="fa fa-caret-down"></span>
</a>  

<div class="collapse" id="collapseExample">
    <div class="card card-body">
            <dl>
                <dt>Versiones</dt>
                        <dd><a href="05_lematizacion_de_textos.html">latest</a></dd>        
                    
            <!-- </dl> -->
            <!-- <dl> -->
                <!-- <dt>Tags</dt> -->

                    
                        <dd><a href="../../v0.1b/ejemplos/05_lematizacion_de_textos.html">v0.1</a></dd>
                    
            </dl>
    </div>
</div><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p class="caption">
 <span class="caption-text">
  Primeros pasos:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../seccion_instalacion.html">
   Instalación
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../seccion_ejemplos.html">
   Ejemplos
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="01_lectura_y_escritura_de_documentos.html">
     1. Lectura y escritura de documentos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02_limpieza_de_textos.html">
     2. Limpieza de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_exploracion_y_visualizacion.html">
     3. Análisis exploratorio y visualización
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04_correccion_ortografica.html">
     4. Corrección ortográfica de textos
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     5. Lematización de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06_stemming_de_textos.html">
     6. Stemming de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_vectorizacion_de_textos.html">
     7. Vectorización de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08_comparacion_de_textos.html">
     8. Comparación de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09_casos_de_uso.html">
     Casos de uso
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#definir-textos-de-prueba">
   5.1. Definir textos de prueba
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lematizacion-de-textos-utilizando-spacy">
   5.2. Lematización de textos utilizando spaCy
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#agregar-lemas-personalizados-al-lematizadorspacy">
     5.2.1. Agregar lemas personalizados al
     <cite>
      LematizadorSpacy
     </cite>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#correccion-de-varios-textos-utilizando-un-solo-objeto-de-la-clase-lematizadorspacy">
     5.2.2. Corrección de varios textos utilizando un solo objeto de la clase
     <cite>
      LematizadorSpacy
     </cite>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lematizacion-de-textos-utilizando-stanza">
   5.3. Lematización de textos utilizando Stanza
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#agregar-lemas-personalizados-al-lematizadorstanza">
     5.3.1. Agregar lemas personalizados al
     <cite>
      LematizadorStanza
     </cite>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#correccion-de-varios-textos-utilizando-un-solo-objeto-de-la-clase-lematizadorstanza">
     5.3.2. Corrección de varios textos utilizando un solo objeto de la clase
     <cite>
      LematizadorStanza
     </cite>
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="lematizacion-de-textos">
<span id="id1"></span><h1><span class="section-number">5. </span>Lematización de textos<a class="headerlink" href="#lematizacion-de-textos" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Este ejemplo muestra las principales funcionalidades del módulo <a class="reference internal" href="../funciones/lematizacion.html#module-lematizacion" title="lematizacion"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Lematización</span></code></a> de la librería. Este módulo permite realizar lematización de textos, una operación que consiste en transformar las palabras de su forma flexionada (plural, femenino, conjugaciones, etc.) a su lema correspondiente, el cual es el representante de todas las formas flexionadas de una misma palabra. Por ejemplo, las palabras niños, niña y niñito tienen todas el mismo lema: niño. Realizar lematización sobre textos puede simplificarlos, al unificar palabras que comparten el mismo lema, y evitando así tener un vocabulario más grande de lo necesario.</p>
<div class="section" id="definir-textos-de-prueba">
<h2><span class="section-number">5.1. </span>Definir textos de prueba<a class="headerlink" href="#definir-textos-de-prueba" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El módulo de <a class="reference internal" href="../funciones/lematizacion.html#module-lematizacion" title="lematizacion"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Lematización</span></code></a> de <strong>ConTexto</strong> cuenta con dos lematizadores distintos, cada uno apoyado en una librería de NLP (Procesamiento del Lenguaje Natural) distinta: <a class="reference external" href="https://spacy.io/">spaCy</a> y <a class="reference external" href="https://stanfordnlp.github.io/stanza/">Stanza</a>. En este ejemplo se mostrará el uso de ambas clases, <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.LematizadorSpacy" title="lematizacion.LematizadorSpacy"><code class="xref py py-class docutils literal notranslate"><span class="pre">LematizadorSpacy</span></code></a> y <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.LematizadorStanza" title="lematizacion.LematizadorStanza"><code class="xref py py-class docutils literal notranslate"><span class="pre">LematizadorStanza</span></code></a>, y de la función <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.lematizar_texto" title="lematizacion.lematizar_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">lematizacion.lematizar_texto()</span></code></a>, que puede utilizar cualquiera de los dos lematizadores.</p>
<p>En primer lugar, se definen los textos que se utilizarán para correr los ejemplos.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.lematizacion</span> <span class="kn">import</span> <span class="n">LematizadorSpacy</span><span class="p">,</span> <span class="n">LematizadorStanza</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.lematizacion</span> <span class="kn">import</span> <span class="n">lematizar_texto</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># textos de prueba</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto</span> <span class="o">=</span> <span class="s1">&#39;esta es una prueba para ver si las funciones son correctas y funcionan bien. Perritos y gatos van a la casita&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto_ingles</span> <span class="o">=</span> <span class="s1">&#39;this is a test writing to study if these functions are performing well&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">textos</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;Esta es una primera entrada en el grupo de textos&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;El Pibe Valderrama empezó a destacar jugando fútbol desde chiquitin&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;De los pájaros del monte yo quisiera ser canario&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;Finalizando esta listica, se incluye una última frase un poquito más larga que las anteriores.&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="lematizacion-de-textos-utilizando-spacy">
<h2><span class="section-number">5.2. </span>Lematización de textos utilizando spaCy<a class="headerlink" href="#lematizacion-de-textos-utilizando-spacy" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La función <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.lematizar_texto" title="lematizacion.lematizar_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">lematizacion.lematizar_texto()</span></code></a> se encarga de aplicar lematización a todas las palabras de un texto de entrada. Al realizarse con el lematizador de spaCy, que se utiliza por defecto, el usuario puede elegir el lenguaje y el tamaño del modelo. Para la mayoría de lenguajes hay 3 tamaños de modelos: pequeño (“sm”), mediano (“md”) y grande (“lg”). Entre más grande sea el modelo, es posible que tenga un vocabulario más amplio o características adicionales, pero también el archivo del modelo será más grande.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>La primera vez que se utilice una combinación particular de lenguaje + tamaño, la librería descargará el modelo correspondiente en el computador del usuario. Para usarlo, se debe reiniciar la sesión y correr la función de nuevo.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Lematización con librería Spacy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto_lematizado</span> <span class="o">=</span> <span class="n">lematizar_texto</span><span class="p">(</span><span class="n">texto</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">texto_lematizado</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Prueba en otro lenguaje (en este caso se detecta automáticamente que es inglés)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lemma_english</span> <span class="o">=</span> <span class="n">lematizar_texto</span><span class="p">(</span><span class="n">texto_ingles</span><span class="p">,</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">dim_modelo</span><span class="o">=</span><span class="s1">&#39;small&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lemma_english</span><span class="p">)</span>

<span class="go">este ser uno probar parir ver si los funcionar ser correcto y funcionar bien perrito y gato ir a lo casita</span>
<span class="go">----</span>
<span class="go">this be a test write to study if these function be perform well</span>
</pre></div>
</div>
<div class="section" id="agregar-lemas-personalizados-al-lematizadorspacy">
<h3><span class="section-number">5.2.1. </span>Agregar lemas personalizados al <cite>LematizadorSpacy</cite><a class="headerlink" href="#agregar-lemas-personalizados-al-lematizadorspacy" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Los modelos cuentan con algunos diccionarios de lemas, que se utilizan para aplicar la lematización. Así, por ejemplo, el lematizador sabe que para la palabra “iba”, su lema debería ser “ir”.</p>
<p>Es posible que el diccionario del lematizador no contenga todos los casos que nos interesan, por lo que es necesario complementarlo. Esto se puede hacer desde un archivo JSON o desde un diccionario de Python.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>La carpeta <a class="reference external" href="https://github.com/ucd-dnp/ConTexto/tree/master/ejemplos/entrada">entrada</a> de la sección de ejemplos del <a class="reference external" href="https://github.com/ucd-dnp/ConTexto">Repositorio de GitHub de ConTexto</a> tiene insumos que servirán para correr varios ejemplos de la librería <strong>ConTexto</strong>. En este caso en particular, se va a utilizar el archivo <cite>dict_lemas.json</cite>.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Agregar lemas desde un archivo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">archivo_lemmas</span> <span class="o">=</span> <span class="s1">&#39;entrada/dict_lemas.json&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto_lematizado_v2</span> <span class="o">=</span> <span class="n">lematizar_texto</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">dict_lemmas</span><span class="o">=</span><span class="n">archivo_lemmas</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">texto_lematizado_v2</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Agregar desde un diccionario</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segundo_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;casita&quot;</span><span class="p">:</span> <span class="s2">&quot;casa&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;casitas&quot;</span><span class="p">:</span> <span class="s2">&quot;casa&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;para&quot;</span><span class="p">:</span> <span class="s2">&quot;para&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;perrito&quot;</span><span class="p">:</span> <span class="s2">&quot;perro&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;perritos&quot;</span><span class="p">:</span> <span class="s2">&quot;perro&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;gatos&quot;</span><span class="p">:</span> <span class="s2">&quot;gato&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto_lematizado_v3</span> <span class="o">=</span> <span class="n">lematizar_texto</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">dict_lemmas</span><span class="o">=</span><span class="n">segundo_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">texto_lematizado_v3</span><span class="p">)</span>

<span class="go">este ser uno probar parir ver si los funcionar ser correcto y funcionar bien perro y gato ir a lo casita</span>
<span class="go">------</span>
<span class="go">este ser uno probar parir ver si los funcionar ser correcto y funcionar bien perro y gato ir a lo casa</span>
</pre></div>
</div>
</div>
<div class="section" id="correccion-de-varios-textos-utilizando-un-solo-objeto-de-la-clase-lematizadorspacy">
<h3><span class="section-number">5.2.2. </span>Corrección de varios textos utilizando un solo objeto de la clase <cite>LematizadorSpacy</cite><a class="headerlink" href="#correccion-de-varios-textos-utilizando-un-solo-objeto-de-la-clase-lematizadorspacy" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Si se desea lematizar un conjunto de textos, puede ser más rápido definir un único objeto de clase <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.LematizadorSpacy" title="lematizacion.LematizadorSpacy"><code class="xref py py-class docutils literal notranslate"><span class="pre">LematizadorSpacy</span></code></a>, y pasar este objeto en el parámetro <em>lematizador</em> de la función <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.lematizar_texto" title="lematizacion.lematizar_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">lematizacion.lematizar_texto()</span></code></a>. Al hacer esto puede haber un ahorro de tiempo, pues se evita inicializar un nuevo objeto de clase <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.LematizadorSpacy" title="lematizacion.LematizadorSpacy"><code class="xref py py-class docutils literal notranslate"><span class="pre">LematizadorSpacy</span></code></a> para cada texto. Este ahorro de tiempo será mayor a medida que sean más los textos que se desean lematizar.</p>
<p>A continuación se muestra una comparación de tiempos para dos opciones:</p>
<ol class="arabic simple">
<li><p>Lematizar una lista de textos, aplicando la función <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.lematizar_texto" title="lematizacion.lematizar_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">lematizacion.lematizar_texto()</span></code></a> a cada uno sin ninguna otra consideración.</p></li>
<li><p>Definir un objeto de clase <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.LematizadorSpacy" title="lematizacion.LematizadorSpacy"><code class="xref py py-class docutils literal notranslate"><span class="pre">LematizadorSpacy</span></code></a> y utilizarlo para lematizar la misma lista de textos.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Opción 1: se inicializa el lematizador en cada texto</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tic</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">textos</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">lematizar_texto</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tiempo_1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">tic</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Opción 2: se utiliza solo un lematizador para todos los textos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--------------------&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tic</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lematizador</span> <span class="o">=</span> <span class="n">LematizadorSpacy</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">textos</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">lematizar_texto</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">lematizador</span><span class="o">=</span><span class="n">lematizador</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tiempo_2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">tic</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">***************</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Tiempo con opción 1: </span><span class="si">{}</span><span class="s1"> segundos</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tiempo_1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Tiempo con opción 2: </span><span class="si">{}</span><span class="s1"> segundos</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tiempo_2</span><span class="p">))</span>

<span class="go">este ser uno primero entrar en el grupo de texto</span>
<span class="go">el pibe valderrama empezar a destacar jugar fútbol desde chiquitin</span>
<span class="go">de lo pájaro del montar yo querer ser canario</span>
<span class="go">finalizar este listica se incluir uno último frase uno poquito más largo que los anterior</span>
<span class="go">--------------------</span>
<span class="go">este ser uno primero entrar en el grupo de texto</span>
<span class="go">el pibe valderrama empezar a destacar jugar fútbol desde chiquitin</span>
<span class="go">de lo pájaro del montar yo querer ser canario</span>
<span class="go">finalizar este listica se incluir uno último frase uno poquito más largo que los anterior</span>

<span class="go">***************</span>

<span class="go">Tiempo con opción 1: 10.844398021697998 segundos</span>

<span class="go">Tiempo con opción 2: 2.4355220794677734 segundos</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="lematizacion-de-textos-utilizando-stanza">
<h2><span class="section-number">5.3. </span>Lematización de textos utilizando Stanza<a class="headerlink" href="#lematizacion-de-textos-utilizando-stanza" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El parámetro <em>libreria</em> de la función <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.lematizar_texto" title="lematizacion.lematizar_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">lematizacion.lematizar_texto()</span></code></a> permite elegir la librería de lematización a utilizar. Esta función se encarga de aplicar lematización a todas las palabras de un texto de entrada. Si se define <em>liberia=”stanza”</em>, la función utilizará el lematizador de la clase <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.LematizadorStanza" title="lematizacion.LematizadorStanza"><code class="xref py py-class docutils literal notranslate"><span class="pre">LematizadorStanza</span></code></a>. La primera vez que se seleccione un modelo de un lenguaje determinado, la función descargará el modelo correspondiente en el computador del usuario. Este proceso puede durar algunos minutos, dependiendo de la conexión a internet.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Lematización con librería Stanza ###</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto_lematizado</span> <span class="o">=</span> <span class="n">lematizar_texto</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span> <span class="n">libreria</span><span class="o">=</span><span class="s1">&#39;stanza&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">texto_lematizado</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Prueba en otro lenguaje</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lemma_english</span> <span class="o">=</span> <span class="n">lematizar_texto</span><span class="p">(</span><span class="n">texto_ingles</span><span class="p">,</span> <span class="n">lenguaje</span><span class="o">=</span><span class="s1">&#39;ingles&#39;</span><span class="p">,</span> <span class="n">libreria</span><span class="o">=</span><span class="s1">&#39;stanza&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lemma_english</span><span class="p">)</span>

<span class="go">este ser uno prueba para ver si el función ser correcto y funcionar bien perrito y gato ir a el casita</span>
<span class="go">------</span>
<span class="go">this be a test writing to study if these function be perform well</span>
</pre></div>
</div>
<div class="section" id="agregar-lemas-personalizados-al-lematizadorstanza">
<h3><span class="section-number">5.3.1. </span>Agregar lemas personalizados al <cite>LematizadorStanza</cite><a class="headerlink" href="#agregar-lemas-personalizados-al-lematizadorstanza" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Al igual que en el caso de spaCy, el <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.LematizadorStanza" title="lematizacion.LematizadorStanza"><code class="xref py py-class docutils literal notranslate"><span class="pre">LematizadorStanza</span></code></a> permite añadir o modificar lemas, utilizando un archivo JSON o un diccionario de Python. Esto se hace con la función <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.LematizadorStanza.modificar_lemmas" title="lematizacion.LematizadorStanza.modificar_lemmas"><code class="xref py py-func docutils literal notranslate"><span class="pre">modificar_lemmas</span></code></a> y se puede utilizar el parámetro <em>archivo_salida</em> para determinar dónde se quiere guardar el modelo resultante.</p>
<p>De esta manera, este modelo puede ser luego cargado a un objeto de clase <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.LematizadorStanza" title="lematizacion.LematizadorStanza"><code class="xref py py-class docutils literal notranslate"><span class="pre">LematizadorStanza</span></code></a> para seguirlo utilizando o modificando. Para cargar un modelo guardado previamente, es necesario utilizar el parámetro <em>modelo_lemas</em>, al definir el objeto lematizador.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>La carpeta <a class="reference external" href="https://github.com/ucd-dnp/ConTexto/tree/master/ejemplos/entrada">entrada</a> de la sección de ejemplos del <a class="reference external" href="https://github.com/ucd-dnp/ConTexto">Repositorio de GitHub de ConTexto</a> tiene insumos que servirán para correr varios ejemplos de la librería <strong>ConTexto</strong>. En este caso en particular, se va a utilizar el archivo <cite>dict_lemas.json</cite>.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">## Utilizar un archivo JSON al momento de lematizar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">archivo_lemmas</span> <span class="o">=</span> <span class="s1">&#39;entrada/dict_lemas.json&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto_lematizado_v2</span> <span class="o">=</span> <span class="n">lematizar_texto</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span><span class="n">libreria</span><span class="o">=</span><span class="s1">&#39;stanza&#39;</span><span class="p">,</span><span class="n">dict_lemmas</span><span class="o">=</span><span class="n">archivo_lemmas</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">texto_lematizado_v2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1">## Modificar los lemas utilizando un diccionario</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segundo_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s2">&quot;chiquitin&quot;</span><span class="p">:</span> <span class="s2">&quot;chico&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;valderrama&#39;</span><span class="p">:</span> <span class="s1">&#39;valderrama&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;listica&#39;</span><span class="p">:</span> <span class="s1">&#39;lista&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Inicializar lematizador para lenguaje español</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lematizador</span> <span class="o">=</span> <span class="n">LematizadorStanza</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lematizador</span><span class="o">.</span><span class="n">lematizar</span><span class="p">(</span><span class="n">textos</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Modificar lemas y guardar el modelo resultante</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lematizador</span><span class="o">.</span><span class="n">modificar_lemmas</span><span class="p">(</span><span class="n">dict_lemmas</span><span class="o">=</span><span class="n">segundo_dict</span><span class="p">,</span> <span class="n">archivo_salida</span><span class="o">=</span><span class="s1">&#39;salida/modelo_lemas_stanza.pt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Lemarizar de nuevo el mismo texto, después de la modificación</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lematizador</span><span class="o">.</span><span class="n">lematizar</span><span class="p">(</span><span class="n">textos</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

<span class="go">este ser uno prueba para ver si el función ser correcto y funcionar bien perro y gato ir a el casita</span>
<span class="go">------</span>
<span class="go">el pibe valderramo empezar a destacar jugar fútbol desde chiquitin</span>
<span class="go">el pibe valderrama empezar a destacar jugar fútbol desde chico</span>
</pre></div>
</div>
</div>
<div class="section" id="correccion-de-varios-textos-utilizando-un-solo-objeto-de-la-clase-lematizadorstanza">
<h3><span class="section-number">5.3.2. </span>Corrección de varios textos utilizando un solo objeto de la clase <cite>LematizadorStanza</cite><a class="headerlink" href="#correccion-de-varios-textos-utilizando-un-solo-objeto-de-la-clase-lematizadorstanza" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Si se desea lematizar un conjunto de textos, puede ser más rápido definir un único objeto de clase <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.LematizadorStanza" title="lematizacion.LematizadorStanza"><code class="xref py py-class docutils literal notranslate"><span class="pre">LematizadorStanza</span></code></a> y pasar este objeto en el parámetro <em>lematizador</em> de la función <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.lematizar_texto" title="lematizacion.lematizar_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">lematizacion.lematizar_texto()</span></code></a>. Al hacer esto puede haber un ahorro de tiempo, pues se evita inicializar un nuevo objeto de clase <a class="reference internal" href="../funciones/lematizacion.html#lematizacion.LematizadorStanza" title="lematizacion.LematizadorStanza"><code class="xref py py-class docutils literal notranslate"><span class="pre">LematizadorStanza</span></code></a> para cada texto. Este ahorro de tiempo será mayor a medida que sean más los textos que se desean lematizar.</p>
<p>A continuación se muestra una comparación de tiempos para dos opciones:</p>
<ol class="arabic simple">
<li><p>Lematizar una lista de textos, aplicando la función <cite>lematizar_texto</cite> a cada uno sin ninguna otra consideración.</p></li>
<li><p>Definir un objeto de clase <cite>LematizadorStanza</cite> y utilizarlo para lematizar la misma lista de textos.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Opción 1: se inicializa el lematizador en cada texto</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tic</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">textos</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">lematizar_texto</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">libreria</span><span class="o">=</span><span class="s1">&#39;stanza&#39;</span><span class="p">,</span> <span class="n">modelo_lemas</span><span class="o">=</span><span class="s1">&#39;salida/modelo_lemas_stanza.pt&#39;</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tiempo_1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">tic</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Opción 2: se utiliza solo un lematizador para todos los textos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;--------------------&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tic</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Se carga el modelo guardado previamente en el ejemplo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lematizador</span> <span class="o">=</span> <span class="n">LematizadorStanza</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">,</span> <span class="n">modelo_lemas</span><span class="o">=</span><span class="s1">&#39;salida/modelo_lemas_stanza.pt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">textos</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">lematizar_texto</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">lematizador</span><span class="o">=</span><span class="n">lematizador</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tiempo_2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">tic</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">***************</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Tiempo con opción 1: </span><span class="si">{</span><span class="n">tiempo_1</span><span class="si">}</span><span class="s1"> segundos</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Tiempo con opción 2: </span><span class="si">{</span><span class="n">tiempo_2</span><span class="si">}</span><span class="s1"> segundos</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="go">este ser uno primero entrada en el grupo de texto</span>
<span class="go">el pibe valderrama empezar a destacar jugar fútbol desde chico</span>
<span class="go">de el pájaro del monte yo querer ser canario</span>
<span class="go">finalizar este lista él incluir uno último frase uno poquito más largo que el anterior</span>
<span class="go">--------------------</span>
<span class="go">este ser uno primero entrada en el grupo de texto</span>
<span class="go">el pibe valderrama empezar a destacar jugar fútbol desde chico</span>
<span class="go">de el pájaro del monte yo querer ser canario</span>
<span class="go">finalizar este lista él incluir uno último frase uno poquito más largo que el anterior</span>

<span class="go">***************</span>

<span class="go">Tiempo con opción 1: 3.8512158393859863 segundos</span>

<span class="go">Tiempo con opción 2: 1.04310941696167 segundos</span>
</pre></div>
</div>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="04_correccion_ortografica.html" title="previous page"><span class="section-number">4. </span>Corrección ortográfica de textos</a>
    <a class='right-next' id="next-link" href="06_stemming_de_textos.html" title="next page"><span class="section-number">6. </span>Stemming de textos</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, UCD - DNP.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="last-updated">
Actualizado por última vez en jul. 13, 2021.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>