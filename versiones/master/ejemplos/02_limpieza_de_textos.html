
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2. Limpieza de textos &#8212; documentación de ConTexto - 0.2</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="3. Análisis exploratorio y visualización" href="03_exploracion_y_visualizacion.html" />
    <link rel="prev" title="1. Lectura y escritura de documentos" href="01_lectura_y_escritura_de_documentos.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/logo_2.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../_primeros_pasos.html">
  Primeros pasos
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../_documentacion.html">
  Documentación
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../genindex.html">
  Índice
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../_contribuciones.html">
  ¿Cómo contribuir?
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../_control_de_cambios.html">
  Control de cambios
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ucd-dnp/ConTexto/" rel="noopener" target="_blank" title="GitHub ConTexto">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub ConTexto</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="mailto:ucd@dnp.gov.co" rel="noopener" target="_blank" title="Enviar correo">
            <span><i class="far fa-envelope"></i></span>
            <label class="sr-only">Enviar correo</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Buscar en la documentación ..." aria-label="Buscar en la documentación ..." autocomplete="off" >
</form>

<a id="versions_anchor" class="nav-link" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
    <span class="fa fa-book"></span> Versión
        latest
    

    <span class="fa fa-caret-down"></span>
</a>  

<div class="collapse" id="collapseExample">
    <div class="card card-body">
            <dl>
                <dt>Versiones</dt>
                        <dd><a href="02_limpieza_de_textos.html">latest</a></dd>        
                    
            <!-- </dl> -->
            <!-- <dl> -->
                <!-- <dt>Tags</dt> -->

                    
                        <dd><a href="../../v0.1b/ejemplos/02_limpieza_de_textos.html">v0.1</a></dd>
                    
            </dl>
    </div>
</div><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p class="caption">
 <span class="caption-text">
  Primeros pasos:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../seccion_instalacion.html">
   Instalación
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../seccion_ejemplos.html">
   Ejemplos
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="01_lectura_y_escritura_de_documentos.html">
     1. Lectura y escritura de documentos
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     2. Limpieza de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_exploracion_y_visualizacion.html">
     3. Análisis exploratorio y visualización
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04_correccion_ortografica.html">
     4. Corrección ortográfica
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="05_lematizacion_de_textos.html">
     5. Lematización de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06_stemming_de_textos.html">
     6. Stemming de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_vectorizacion_de_textos.html">
     7. Vectorización de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08_comparacion_de_textos.html">
     8. Comparación de textos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09_casos_de_uso.html">
     Casos de uso
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#funciones-de-limpieza-de-textos">
   2.1. Funciones de limpieza de textos
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#importar-modulo-de-contexto-y-definir-texto-de-prueba">
     2.1.1. Importar módulo de ConTexto y definir texto de prueba
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aplicar-funciones-de-limpieza-de-textos">
     2.1.2. Aplicar funciones de limpieza de textos
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#quitar-elementos-repetidos-de-un-texto">
     2.1.3. Quitar elementos repetidos de un texto
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cargar-listas-de-stopwords-predefinidas-y-definidas-por-el-usuario">
     2.1.4. Cargar listas de
     <em>
      stopwords
     </em>
     , predefinidas y definidas por el usuario
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#funciones-auxiliares-para-limpieza-de-textos">
   2.2. Funciones auxiliares para limpieza de textos
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#importar-funciones-auxiliares-y-definir-textos-de-prueba">
     2.2.1. Importar funciones auxiliares y definir textos de prueba
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#detectar-y-quitar-coincidencias-entre-un-conjunto-de-textos">
     2.2.2. Detectar y quitar coincidencias entre un conjunto de textos
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#detectar-y-quitar-palabras-o-valores-atipicos">
     2.2.3. Detectar y quitar palabras o valores atípicos
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="limpieza-de-textos">
<span id="id1"></span><h1><span class="section-number">2. </span>Limpieza de textos<a class="headerlink" href="#limpieza-de-textos" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Este ejemplo muestra las principales funcionalidades del módulo <a class="reference internal" href="../funciones/limpieza.html#module-limpieza" title="limpieza"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Limpieza</span></code></a> de la librería. También muestra ejemplos de uso de las funciones de limpieza contenidas en el módulo auxiliar <cite>limpieza_aux</cite>, que hace parte de <cite>utils</cite>.</p>
<div class="section" id="funciones-de-limpieza-de-textos">
<h2><span class="section-number">2.1. </span>Funciones de limpieza de textos<a class="headerlink" href="#funciones-de-limpieza-de-textos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En esta sección se muestra cómo se pueden hacer distintos procesamientos de un texto de entrada para remover elementos como signos de puntuación, <em>stopwords</em>, números y acentos, que pueden llegar a entorpecer el análisis de un conjunto de documentos.</p>
<div class="section" id="importar-modulo-de-contexto-y-definir-texto-de-prueba">
<h3><span class="section-number">2.1.1. </span>Importar módulo de ConTexto y definir texto de prueba<a class="headerlink" href="#importar-modulo-de-contexto-y-definir-texto-de-prueba" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.limpieza</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">texto_prueba</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;hola, esto es una prueba para verificar que la limpieza</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">sea hecha con precisión, empeño y calidad! Esperamos que esté todo de 10.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">Desde Amazonas hasta la Guajira y san andrés, desde John y María hasta Ernesto,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">esperamos       que todo funcione de manera correcta.&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="aplicar-funciones-de-limpieza-de-textos">
<h3><span class="section-number">2.1.2. </span>Aplicar funciones de limpieza de textos<a class="headerlink" href="#aplicar-funciones-de-limpieza-de-textos" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Limpieza básica, se pasa todo a minúsculas, se eliminan signos de puntuación y caracteres numéricos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">limpio_basico</span> <span class="o">=</span> <span class="n">limpieza_basica</span><span class="p">(</span><span class="n">texto_prueba</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">limpio_basico</span><span class="p">)</span>

<span class="go">hola esto es una prueba para verificar que la limpieza sea hecha con precisión empeño y calidad esperamos que esté todo de desde amazonas hasta la guajira y san andrés desde john y maría hasta ernesto esperamos que todo funcione de manera correcta</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Si se desea mantener los caracteres numéricos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">limpio_basico_nums</span> <span class="o">=</span> <span class="n">limpieza_basica</span><span class="p">(</span><span class="n">texto_prueba</span><span class="p">,</span> <span class="n">quitar_numeros</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">limpio_basico_nums</span><span class="p">)</span>

<span class="go">hola esto es una prueba para verificar que la limpieza sea hecha con precisión empeño y calidad esperamos que esté todo de 10 desde amazonas hasta la guajira y san andrés desde john y maría hasta ernesto esperamos que todo funcione de manera correcta</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Para quitar acentos (diéresis, tildes y virgulillas)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sin_acentos</span> <span class="o">=</span> <span class="n">remover_acentos</span><span class="p">(</span><span class="n">limpio_basico</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sin_acentos</span><span class="p">)</span>

<span class="go">hola esto es una prueba para verificar que la limpieza sea hecha con precision empeno y calidad esperamos que este todo de desde amazonas hasta la guajira y san andres desde john y maria hasta ernesto esperamos que todo funcione de manera correcta</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Quitar palabras con menos de 4 caracteres</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">quitar_caracteres</span> <span class="o">=</span> <span class="n">remover_palabras_cortas</span><span class="p">(</span><span class="n">sin_acentos</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">quitar_caracteres</span><span class="p">)</span>

<span class="go">hola esto prueba para verificar limpieza hecha precision empeno calidad esperamos este todo desde amazonas hasta guajira andres desde john maria hasta ernesto esperamos todo funcione manera correcta</span>
</pre></div>
</div>
<p>Utilizando la función <a class="reference internal" href="../funciones/limpieza.html#limpieza.limpieza_texto" title="limpieza.limpieza_texto"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.limpieza_texto()</span></code></a> se puede a la vez:</p>
<ul class="simple">
<li><p>Pasar todo el texto a minúsculas</p></li>
<li><p>Quitar signos de puntuación</p></li>
<li><p>Quitar <em>stopwords</em> (palabras y/o expresiones). Para esto, se pueden pasar directamente las listas de palabras y expresiones a quitar, o se puede pasar un archivo que contenga esta información.</p></li>
<li><p>Quitar palabras de una longitud menor a <em>n</em> caracteres (configurable)</p></li>
<li><p>Quitar números (configurable)</p></li>
<li><p>Quitar acentos (configurable)</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">limpio_completo</span> <span class="o">=</span> <span class="n">limpieza_texto</span><span class="p">(</span><span class="n">texto_prueba</span><span class="p">,</span> <span class="n">ubicacion_archivo</span><span class="o">=</span><span class="s1">&#39;entrada/stopwords_prueba.txt&#39;</span><span class="p">,</span> <span class="n">n_min</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">limpio_completo</span><span class="p">)</span>

<span class="go">hola esto una prueba para verificar que sea hecha con precisión empeño esté todo desde amazonas hasta san andrés desde maría hasta ernesto todo funcione manera correcta</span>
</pre></div>
</div>
</div>
<div class="section" id="quitar-elementos-repetidos-de-un-texto">
<h3><span class="section-number">2.1.3. </span>Quitar elementos repetidos de un texto<a class="headerlink" href="#quitar-elementos-repetidos-de-un-texto" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La función <a class="reference internal" href="../funciones/limpieza.html#limpieza.quitar_repetidos" title="limpieza.quitar_repetidos"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.quitar_repetidos()</span></code></a> permite quitar elementos repetidos de un texto, de acuerdo a un separador definido por el usuario.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">texto_repetido</span> <span class="o">=</span> <span class="s1">&#39;hola, hola, como estas,hola, hola tu&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Aplicar función directamente</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;texto quitando partes repetidas, utilizando el separador por defecto (&quot;|&quot;):&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">quitar_repetidos</span><span class="p">(</span><span class="n">texto_repetido</span><span class="p">))</span>

<span class="go">texto quitando partes repetidas, utilizando el separador por defecto (&quot;|&quot;):</span>
<span class="go">hola, hola, como estas,hola, hola tu</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">texto_repetido</span> <span class="o">=</span> <span class="s1">&#39;hola, hola, como estas,hola, hola tu&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Especificar el separador entre documentos/frases</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;texto quitando partes repetidas, separadas por coma:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">quitar_repetidos</span><span class="p">(</span><span class="n">texto_repetido</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">))</span>

<span class="go">texto quitando partes repetidas, separadas por coma:</span>
<span class="go">hola como estas hola tu</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">texto_repetido</span> <span class="o">=</span> <span class="s1">&#39;hola, hola, como estas,hola, hola tu&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Deshabilitar opción de quitar espacios al inicio y al final</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;texto quitando partes repetidas, separadas por coma y sin quitar espacios al inicio y final:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">quitar_repetidos</span><span class="p">(</span><span class="n">texto_repetido</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">remover_espacios</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

<span class="go">texto quitando partes repetidas, separadas por coma y sin quitar espacios al inicio y final:</span>
<span class="go">hola  hola  como estas  hola tu</span>
</pre></div>
</div>
</div>
<div class="section" id="cargar-listas-de-stopwords-predefinidas-y-definidas-por-el-usuario">
<h3><span class="section-number">2.1.4. </span>Cargar listas de <em>stopwords</em>, predefinidas y definidas por el usuario<a class="headerlink" href="#cargar-listas-de-stopwords-predefinidas-y-definidas-por-el-usuario" title="Enlazar permanentemente con este título">¶</a></h3>
<p><strong>ConTexto</strong> trae algunas listas predefinidas de <em>stopwords</em> que pueden ser cargadas y utilizadas directamente. Las listas incluidas son:</p>
<ul class="simple">
<li><p>Palabras comunes del lenguaje castellano (solo palabras)</p></li>
<li><p>Nombres comunes de hombres y mujeres (solo palabras)</p></li>
<li><p>Nombres de municipios y departamentos de Colombia (palabras y expresiones: nombres compuestos como «San Andrés»)</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Cargar listas de stopwords predefinidas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nombres_hombres</span> <span class="o">=</span> <span class="n">lista_nombres</span><span class="p">(</span><span class="s1">&#39;hombre&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nombres_mujeres</span> <span class="o">=</span> <span class="n">lista_nombres</span><span class="p">(</span><span class="s1">&#39;mujer&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nombres_todos</span> <span class="o">=</span> <span class="n">lista_nombres</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apellidos</span> <span class="o">=</span> <span class="n">lista_apellidos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">municipios</span> <span class="o">=</span> <span class="n">lista_geo_colombia</span><span class="p">(</span><span class="s1">&#39;municipios&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">departamentos</span> <span class="o">=</span> <span class="n">lista_geo_colombia</span><span class="p">(</span><span class="s1">&#39;departamentos&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">todos_geo</span> <span class="o">=</span> <span class="n">lista_geo_colombia</span><span class="p">()</span>
</pre></div>
</div>
<p>Además de estas listas, la función <a class="reference internal" href="../funciones/limpieza.html#limpieza.lista_stopwords" title="limpieza.lista_stopwords"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.lista_stopwords()</span></code></a> permite cargar listas predefinidas de las <em>stopwords</em> más comunes para varios lenguajes, utilizando la librería NLTK.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Stopwords comunes de varios lenguajes (por defecto se devuelven las de español)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stopwords</span> <span class="o">=</span> <span class="n">lista_stopwords</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stopwords_ingles</span> <span class="o">=</span> <span class="n">lista_stopwords</span><span class="p">(</span><span class="s1">&#39;ingles&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Finalmente, la función <a class="reference internal" href="../funciones/limpieza.html#limpieza.cargar_stopwords" title="limpieza.cargar_stopwords"><code class="xref py py-func docutils literal notranslate"><span class="pre">limpieza.cargar_stopwords()</span></code></a> permite al usuario cargar <em>stopwords</em> (tanto palabras como expresiones) desde un archivo plano. Las palabras/expresiones deben ir separadas por comas o ir en renglones separados para ser tenidas en cuenta por aparte.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>La carpeta <a class="reference external" href="https://github.com/ucd-dnp/ConTexto/tree/master/ejemplos/entrada">entrada</a> de la sección de ejemplos del <a class="reference external" href="https://github.com/ucd-dnp/ConTexto">Repositorio de GitHub de ConTexto</a> tiene insumos que servirán para correr varios ejemplos de la librería <strong>ConTexto</strong>. En este caso en particular, se va a utilizar el archivo <em>stopwords_prueba.txt</em>.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Cargar archivo con lista de términos y expresiones que se desean remover</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">custom_sw</span> <span class="o">=</span> <span class="n">cargar_stopwords</span><span class="p">(</span><span class="s1">&#39;entrada/stopwords_prueba.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">custom_sw</span><span class="p">)</span>

<span class="go">([&#39;calidad&#39;, &#39;limpieza&#39;, &#39;guajira&#39;, &#39;john&#39;, &#39;maria&#39;, &#39;elías&#39;], [&#39;Pedro pablo&#39;, &#39;esperamos que&#39;])</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="funciones-auxiliares-para-limpieza-de-textos">
<h2><span class="section-number">2.2. </span>Funciones auxiliares para limpieza de textos<a class="headerlink" href="#funciones-auxiliares-para-limpieza-de-textos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Adicionalmente, el módulo <a class="reference internal" href="../funciones/utils.html#funciones-utils-limpieza-utils"><span class="std std-ref">Limpieza auxiliar</span></a> contiene algunas funciones complementarias que permiten identificar y remover elementos adicionales que puedan entorpecer el análisis de un conjunto de textos.</p>
<div class="section" id="importar-funciones-auxiliares-y-definir-textos-de-prueba">
<h3><span class="section-number">2.2.1. </span>Importar funciones auxiliares y definir textos de prueba<a class="headerlink" href="#importar-funciones-auxiliares-y-definir-textos-de-prueba" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.utils.limpieza_aux</span> <span class="kn">import</span> <span class="n">substrings_en_comun</span><span class="p">,</span> <span class="n">detectar_coincidencias</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.utils.limpieza_aux</span> <span class="kn">import</span> <span class="n">caracteres_repetidos</span><span class="p">,</span> <span class="n">caracteres_consecutivos</span><span class="p">,</span> <span class="n">consonantes_consecutivas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">contexto.utils.limpieza_aux</span> <span class="kn">import</span> <span class="n">quitar_coincidenias</span><span class="p">,</span> <span class="n">quitar_palabras_atipicas</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Corpus de prueba</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">textos_prueba</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Este es el primer texto de prueba para la detección de coincidencias.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Una segunda oración permite evaluar si hay coincidencia de caracteres con elementos en común.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Tercera frase que consiste en un texto complementario con palabras comúnmente utilizadas.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;En esta oración y la siguiente se introducen elementos para completar un grupo de por lo menos 5.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Finalmente, esta frase cierra un grupo de 5 oraciones para probar la detección de coincidencias.&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="s1">&#39;Una última frase para ampliar un poco el grupo.&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="detectar-y-quitar-coincidencias-entre-un-conjunto-de-textos">
<h3><span class="section-number">2.2.2. </span>Detectar y quitar coincidencias entre un conjunto de textos<a class="headerlink" href="#detectar-y-quitar-coincidencias-entre-un-conjunto-de-textos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En ocasiones un documento puede tener un encabezado o pie de nota común en casi todas sus páginas. Esto puede entorpecer ciertos análisis, al darle un peso demasiado grande a estas coincidencias.</p>
<p>Para evitar este problema, la función <a class="reference internal" href="../funciones/utils.html#utils.tokenizacion.quitar_coincidenias" title="utils.tokenizacion.quitar_coincidenias"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.limpieza_aux.quitar_coincidenias()</span></code></a> (que a su vez utiliza las funciones <a class="reference internal" href="../funciones/utils.html#utils.tokenizacion.substrings_en_comun" title="utils.tokenizacion.substrings_en_comun"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.limpieza_aux.substrings_en_comun()</span></code></a> y <a class="reference internal" href="../funciones/utils.html#utils.tokenizacion.detectar_coincidencias" title="utils.tokenizacion.detectar_coincidencias"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.limpieza_aux.detectar_coincidencias()</span></code></a> permite, para un conjunto de textos, encontrar y remover coincidencias (cadenas de caracteres) que cumplan una o varias de estas condiciones:</p>
<ul class="simple">
<li><p>Que aparezcan en mínimo una proporción determinada de todos los textos</p></li>
<li><p>Que su longitud (cantidad de caracteres) sea mayor o igual a un valor determinado</p></li>
<li><p>Que la cadena tenga un número de palabras mayor o igual a un valor determinado</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Detectar coincidencias de por lo menos 4 y 10 caracteres</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">substrings_en_comun</span><span class="p">(</span><span class="n">textos_prueba</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">textos_prueba</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">longitud_min</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">substrings_en_comun</span><span class="p">(</span><span class="n">textos_prueba</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">textos_prueba</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">longitud_min</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>

<span class="go">[&#39;a frase &#39;, &#39; grupo&#39;]</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Detectar cadenas de caracteres de mínimo 2 palabras que estén en mínimo la mitad de los textos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">detectar_coincidencias</span><span class="p">(</span><span class="n">textos_prueba</span><span class="p">,</span> <span class="n">prop</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">n_min</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">longitud_min</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>

<span class="go">[&#39;a frase &#39;]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Quitar las coincidencias encontradas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">quitar_coincidenias</span><span class="p">(</span><span class="n">textos_prueba</span><span class="p">,</span> <span class="n">prop</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">n_min</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">longitud_min</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>

<span class="go">[&#39;Este es el primer texto de prueba para la detección de coincidencias.&#39;, &#39;Una segunda oración permite evaluar si hay coincidencia de caracteres elementos en común.&#39;, &#39;Tercer que consiste en un texto complementario con palabras comúnmente utilizadas.&#39;, &#39;En esta oración y la siguiente se introducen elementos para completar un grupo de por lo menos 5.&#39;, &#39;Finalmente, est cierra un grupo de 5 oraciones para probar la detección de coincidencias.&#39;, &#39;Una últim para ampliar un poco el grupo.&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="detectar-y-quitar-palabras-o-valores-atipicos">
<h3><span class="section-number">2.2.3. </span>Detectar y quitar palabras o valores atípicos<a class="headerlink" href="#detectar-y-quitar-palabras-o-valores-atipicos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Si se está trabajando con un texto de mala calidad (por ejemplo, porque se aplicó OCR a un documento antiguo y mal escaneado), es posible que haya “ruido” en el texto, como palabras sin sentido, que puede afectar el análisis de este documento. Otro caso posible es trabajar con textos que tengan palabras o valores numéricos sospechosos (como “abcde” o “0000000”). En este caso, puede ser de utilidad poder detectar y/o remover estas palabras sospechosas o de ruido.</p>
<p>Para evitar este problema, la función <a class="reference internal" href="../funciones/utils.html#utils.tokenizacion.quitar_palabras_atipicas" title="utils.tokenizacion.quitar_palabras_atipicas"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.limpieza_aux.quitar_palabras_atipicas()</span></code></a> (que a su vez utiliza las funciones <a class="reference internal" href="../funciones/utils.html#utils.tokenizacion.caracteres_repetidos" title="utils.tokenizacion.caracteres_repetidos"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.limpieza_aux.caracteres_repetidos()</span></code></a>, <a class="reference internal" href="../funciones/utils.html#utils.tokenizacion.caracteres_consecutivos" title="utils.tokenizacion.caracteres_consecutivos"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.limpieza_aux.caracteres_consecutivos()</span></code></a> y <a class="reference internal" href="../funciones/utils.html#utils.tokenizacion.consonantes_consecutivas" title="utils.tokenizacion.consonantes_consecutivas"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.limpieza_aux.consonantes_consecutivas()</span></code></a>) permite, para un conjunto de textos, encontrar y remover palabras que cumplan una o varias de estas condiciones:</p>
<ul class="simple">
<li><p>Que tengan un número o letra repetidos de forma seguida más veces de lo permitido</p></li>
<li><p>Que tengan números o letras consecutivas de forma seguida en un número mayor de lo permitido</p></li>
<li><p>Que tengan más consonantes seguidas de lo permitido</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Detectar si una palabra tiene una cantidad determinada de caracteres repetidos seguidos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">caracteres_repetidos</span><span class="p">(</span><span class="s1">&#39;123444321&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># La función por defecto quita acentos y pasa todo a minúsculas, para que esto no afecte la búsqueda de repetidos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">caracteres_repetidos</span><span class="p">(</span><span class="s1">&#39;GóOol&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Detectar si una palabra tiene una cantidad determinada de caracteres consecutivos seguidos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">caracteres_consecutivos</span><span class="p">(</span><span class="s1">&#39;123444321&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">caracteres_consecutivos</span><span class="p">(</span><span class="s1">&#39;aBCdE&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Detectar si una palabra tiene una cantidad determinada de consonantes seguidas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">consonantes_consecutivas</span><span class="p">(</span><span class="s1">&#39;AbStracto&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">consonantes_consecutivas</span><span class="p">(</span><span class="s1">&#39;Lynyrd Skynyrd&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># El resultado cambia si se deja de incluir la letra &quot;Y&quot; como vocal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">consonantes_consecutivas</span><span class="p">(</span><span class="s1">&#39;Lynyrd Skynyrd&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">incluir_y</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># La función quita acentos por defecto, por lo que puede trabajar con consonantes que tengan algún tipo de acento o tilde</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">consonantes_consecutivas</span><span class="p">(</span><span class="s1">&#39;mñçs&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Prueba de quitar palabras con problemas en un texto</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto_prueba</span> <span class="o">=</span> <span class="s1">&#39;HolaAá! esta es una pruebba para ver si, En 12345, se pueden abstraer las reglas del abcdario.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texto_sin_atipicas</span> <span class="o">=</span> <span class="n">quitar_palabras_atipicas</span><span class="p">(</span><span class="n">texto_prueba</span><span class="p">,</span> <span class="n">n_repetidas</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">n_consecutivas</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">n_consonantes</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;---------------</span><span class="se">\n</span><span class="s2">Texto original:</span><span class="se">\n</span><span class="si">{</span><span class="n">texto_prueba</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;---------------</span><span class="se">\n</span><span class="s2">Texto sin palabras detectadas como atípicas:</span><span class="se">\n</span><span class="si">{</span><span class="n">texto_sin_atipicas</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="go">---------------</span>
<span class="go">Texto original:</span>
<span class="go">HolaAá! esta es una pruebba para ver si, En 12345, se pueden abstraer las reglas del abcdario.</span>
<span class="go">---------------</span>
<span class="go">Texto sin palabras detectadas como atípicas:</span>
<span class="go">! esta es una pruebba para ver si, En, se pueden las reglas del.</span>
</pre></div>
</div>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="01_lectura_y_escritura_de_documentos.html" title="previous page"><span class="section-number">1. </span>Lectura y escritura de documentos</a>
    <a class='right-next' id="next-link" href="03_exploracion_y_visualizacion.html" title="next page"><span class="section-number">3. </span>Análisis exploratorio y visualización</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, UCD - DNP.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="last-updated">
Actualizado por última vez en jul. 13, 2021.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>